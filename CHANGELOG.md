# Changelog 💖
Hello 小可爱们！这里是我们的成长日记，所有酷炫的更新和优化都会在这里记录哦！

## [2.1.10] - 2025-10-18 🌈

### Changed
- **候选人信息表单优化！✨ 让所有岗位都能用！**
  - **更通用的字段设计 🎯**：重构了候选人信息表单，不再只针对开发者岗位，现在适配产品、运营、销售、设计等所有岗位类型～
  - **删除开发者特定字段 ✂️**：移除了"项目规模"（峰值QPS、SLA）等技术岗位特有的字段，让表单更简洁通用！
  - **字段名称优化 📝**：
    - "从事领域" → "从事行业/领域"（示例：电商、金融、教育、医疗、制造业等）
    - "核心技术栈" → "核心技能/专长"（示例：项目管理、数据分析、市场营销、客户关系管理、团队协作等）
    - "主要成就" → "主要成就/业绩亮点"（示例：带领团队完成年度销售目标120%、优化业务流程，效率提升40%等）
    - "个人强项/优势" → "个人优势"（示例：沟通能力强、学习能力强、抗压能力强、执行力强）
    - "个人链接" → "个人链接/作品展示"（支持LinkedIn、个人网站、公众号、作品集等）
  - **同步更新JS逻辑 🔧**：`common-config.js` 中相关的数据收集、保存、重置和加载逻辑已全部同步调整，确保前后端一致！
  - **提示文本全面升级 💡**：所有placeholder都更新为更通用的示例，让任何岗位的候选人都能轻松理解如何填写～

### Technical Details
- 修改文件：`index.html`、`common-config.js`
- 移除字段：`profileQpsPeak`、`profileSla`、`scale` 对象
- 优化字段：`profileDomains`、`profileCoreStack`、`profileAchievements`、`profileStrengths`、`profileGithub`、`profilePortfolio`

## [2.1.9] - 2025-10-17 🏗️

### Changed
- **职位匹配模块架构升级！✨ AI提示词管理更优雅！**
  - 参考 `greeting` 模块的设计，给 `job` 模块的提示词系统来了个大变身！
  - **告别配置文件硬编码 👋**：提示词从 `application-gpt.yml` 搬家到独立的 YAML 文件 `prompts/job-match-v1.yml`，版本管理更清晰！
  - **结构化提示词 🎨**：采用 segments 设计（SYSTEM、GUIDELINES、USER），提示词结构一目了然，修改起来不再头疼～
  - **新增组装器 🔧**：创建了 `JobPromptAssembler` 和 `JobPromptVariables`，专业管理提示词变量，告别魔法字符串！
  - **接口更简洁 🚀**：重构了 `JobMatchAiService`，移除冗余的 `platform` 参数，使用统一的 `LlmClient`，调用更丝滑！
  - **模板仓库完善 📚**：实现了 `TemplateRepository` 的 YAML 自动加载功能，支持热加载多版本提示词，A/B测试随时来！
  - **架构统一 🎯**：现在 `job` 和 `greeting` 模块使用相同的提示词管理架构，代码更优雅，维护更省心！
  - **详细文档 📝**：新增 `JOB_MODULE_REFACTORING.md` 文档，记录了所有架构变化和使用示例，技术细节全都有～

### Technical Details
- 新增文件：`prompts/job-match-v1.yml`、`JobPromptAssembler.java`、`JobPromptVariables.java`
- 重构文件：`JobMatchAiService.java`、`JobMatchRequest.java`、`TemplateRepository.java`
- 清理配置：移除 `application-gpt.yml` 中的旧提示词配置，更清爽！

## [2.1.8] - 2025-10-17 💅

### Changed
- **UI大焕新！✨ 智能求职助手颜值爆改！**
  - 拜拜👋 传统上下布局，快来拥抱超in的左侧菜单栏设计，操作丝滑，颜值与实力并存！
  - **布局重塑 🛠️**：从头到脚重构了 `index.html`，页面结构更清晰，逻辑分区更合理，找东西不迷路～
  - **风格新生 🎨**：`style.css` 全面升级！注入现代设计感，深色侧边栏搭配清爽内容区，高级感瞬间拉满！
  - **体验飞跃 🚀**：导航栏华丽变身，从顶部“横批”变身左侧“竖列”，找功能快人一步，告别手忙脚乱。
  - **细节控福音 🍬**：精心调整了卡片、按钮和字体样式，每一处都透露着精致，让你的求职之旅赏心悦目～

## [2.1.7] - 2025-10-16 🔧

### Fixed
- **登录状态Bug修复 ✅**
  - 修复了 `isLoggedIn()` 前端缓存没及时更新，导致登录按钮状态“假死”的小毛病。
  - 新增后端接口 `/api/tasks/status` 兜底，确保登录状态以后端大大为准，双重保险更安心！🔒
  - 增加了详细的“黑匣子”日志，记录前后端状态差异，方便快速定位问题。
  - 检测到状态不一致时，会自动同步前端缓存并“嘀嘀”发出警告日志。
- **Playwright 分页点击异常修复 📄**
  - 修复了翻页时偶尔出现的 `PlaywrightException` 异常，不再错过任何一个好机会！
  - 引入智能重试机制，当 Playwright 闹小脾气时，我们会耐心安抚并重试，而不是直接放弃。
  - 在点击前后都会检查页面状态，像贴心管家一样确保一切就绪。
  - 增强了系统的“强心脏”💪，避免因内部资源临时“打盹”导致任务中断。

## [2.1.6] - 2025-10-15 🧠

### Added
- **Deepseek AI 配置动态刷新 ✨**
  - 无需重启应用，配置一秒生效！实现了基于 `@RefreshScope` 的优雅热更新。
  - 现在可以随时更换 AI 的 API Key、模型等，就像换衣服一样简单！
  - 零停机完成配置切换，工作娱乐两不误。

### Changed
- **技术宅的小优化 🤓**
  - 优化了 `DeepseekGptConfig` 配置类，让它支持动态刷新。
  - 引入了 `spring-cloud-context` 和 `actuator`，解锁更多高级玩法。
  - 新增 `application-actuator.yml` 配置文件，让技术大佬们可以更方便地管理应用。

## [2.1.5] - 2025-10-14 🛠️

### Added
- **公共配置模块闪亮登场 🎈**
  - 新增黑名单功能，不喜欢的公司和岗位，一键拉黑，眼不见心不烦！
  - 新增候选人信息配置，让AI更懂你，为你生成专属的打招呼内容。
- **AI智能打招呼功能上线 🤖**
  - AI帮你写开场白，根据你的信息和岗位JD，生成超有诚意的招呼语，让HR眼前一亮！
  - 如果AI卡壳了，也会自动切换回默认内容，保证万无一失。

### Changed
- **任务流程大梳理 🏃‍♀️**
  - 登录操作简化啦！现在系统会自动检查登录状态，你只需要在浏览器里登录一次就好。
  - 任务管理更清晰，单独抽离成一个模块，告别混乱。
- **告别自动保存的小烦恼 📝**
  - 为了解决数据库“打架”的问题，现在需要小可爱们手动点击保存按钮啦，自己的配置自己做主！

## [2.1.4.1] - 2025-09-29 🛠️

### Changed
- **重构: 任务状态管理** ⚙️
  - **背景**: 任务状态分散在各自服务中，缺乏统一管理。
  - **变更**: 引入 Spring 事件机制 (`TaskUpdateEvent`) 和 `task` 模块，实现状态的集中管理和通过 `/api/tasks/status` 实时查询。
  - **影响**: 实现了状态管理的解耦和集中化，提高了系统的可观测性与可维护性。
- **重构: PlaywrightService Context 管理** 🧠
  - **背景**: 每个平台独立的 `BrowserContext` 导致资源消耗过高。
  - **变更**: 重构为单一共享的 `BrowserContext`，减少浏览器窗口数量。
  - **影响**: 显著降低了应用启动时的资源消耗。
- **重构: PlaywrightUtil 迁移至 PlaywrightService** 🏗️
  - **背景**: `PlaywrightUtil` 包含复杂业务逻辑，难以测试和扩展。
  - **变更**: 创建 `PlaywrightService` 替代 `PlaywrightUtil`，支持按平台隔离 `Context`。
  - **影响**: 提高了代码的可维护性、稳定性和可测试性。

## [2.1.4] - 2025-09-27 🚀

### Added
- **新平台解锁！51job & 智联招聘加入大家庭 🎉**
  - 现在可以在51job和智联上自动检索和投递啦！
  - **温馨提示 📢**：智联需要手机号验证才能登录哦，记得激活一下～
- **猎聘板块正在路上... 🚧**
  - 敬请期待，我们正在快马加鞭开发中！

## [2.1.3] - 2025-09-23 🧩

### Added
- **51job 配置板块来啦！**
  - 现在可以为51job单独设置你的求职偏好啦。

### Fixed
- **修复了一些小bug 🐞**
  - 解决了BOSS和51JOB字典值显示不正确的问题。
  - 修复了BOSS期望薪资过滤的小问题。
  - 增加了一个手动标记登录的按钮，刷新后也不怕状态丢失啦。

## [2.1.2] - 2025-09-20 🎯

### Fixed
- **投递更智能！**
  - 现在会自动过滤掉已经投递过的岗位，不再重复劳动。
  - 解决了BOSS风控偶尔导致任务中断的问题，现在更稳定啦。

## [2.1.1] - 2025-09-17 🌟

### Added
- **“神仙外企”模块上线！**
  - 想找外企工作的小伙伴们看过来！

### Changed
- **BOSS查询更强大！**
  - 岗位查询的字典值现在从接口动态获取，信息更全更准。
  - 简化了系统配置，让你开箱即用，减少烦恼。
- **智能匹配升级！**
  - 移除了旧的关键词匹配，未来将用期望职位和JD进行更智能的匹配。

### Fixed
- **修复了重复打招呼的尴尬... 😅**
