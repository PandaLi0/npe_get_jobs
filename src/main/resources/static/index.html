<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boss直聘配置 - 智能求职助手</title>

    <!-- Bootstrap CSS -->
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">-->
    <!-- Bootstrap Icons -->
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">-->
    <!-- Vue 3 CDN -->
    <!--<script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>-->

    <!-- Bootstrap CSS -->
    <link href="lib/bootstrap/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="lib/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Vue 3 CDN -->
    <script src="lib/vue/vue.global.prod.js"></script>
    <!-- 标签输入组件 -->
    <script src="js/components/tags-input.js"></script>
</head>
<body>
<div class="main-wrapper">
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h1><i class="bi bi-briefcase-fill me-2"></i>智能求职助手</h1>
            <p>自动投递，快人一步</p>
        </div>
        <ul class="nav nav-pills" id="platformTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="common-config-tab" data-bs-toggle="tab" data-bs-target="#common-config-pane"
                        type="button" role="tab" aria-controls="common-config-pane" aria-selected="true">
                    <i class="bi bi-sliders"></i>公共配置
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="boss-tab" data-bs-toggle="tab" data-bs-target="#boss-pane"
                        type="button" role="tab" aria-controls="boss-pane" aria-selected="false">
                    <i class="bi bi-person-workspace"></i>Boss直聘
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="zhilian-tab" data-bs-toggle="tab" data-bs-target="#zhilian-pane"
                        type="button" role="tab" aria-controls="zhilian-pane" aria-selected="false">
                    <i class="bi bi-building-gear"></i>智联招聘
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="job51-tab" data-bs-toggle="tab" data-bs-target="#job51-pane"
                        type="button" role="tab" aria-controls="job51-pane" aria-selected="false">
                    <i class="bi bi-clipboard2-data"></i>51job
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="liepin-tab" data-bs-toggle="tab" data-bs-target="#liepin-pane"
                        type="button" role="tab" aria-controls="liepin-pane" aria-selected="false">
                    <i class="bi bi-award-fill"></i>猎聘
                </button>
            </li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container-fluid">
    <div class="tab-content" id="platformTabsContent">
        <!-- 公共配置 -->
        <div class="tab-pane fade show active" id="common-config-pane" role="tabpanel" aria-labelledby="common-config-tab">
            <div class="row g-3" style="height: calc(100vh - 200px);">
                <!-- 左侧：公共配置 -->
                <div class="col-lg-6">
                    
                    <div class="card shadow-lg h-100">
                        <div class="card-header bg-white border-0 py-3">
                            <h5 class="mb-0 text-dark">
                                <i class="bi bi-exclamation-triangle-fill me-2 text-danger"></i>黑名单过滤配置
                            </h5>
                            <small class="text-muted">应用于所有招聘平台的岗位过滤</small>
                        </div>
                        <div class="card-body p-4" style="overflow-y: auto;">
                            <!-- 岗位黑名单关键字 -->
                            <div class="mb-4">
                                <label for="commonJobBlacklistKeywords" class="form-label fw-semibold">
                                    岗位黑名单关键字
                                    <i class="bi bi-question-circle text-muted ms-1"
                                       data-bs-toggle="tooltip"
                                       title="职位标题或描述中包含这些关键字的岗位将被过滤。输入关键字后按回车添加"></i>
                                </label>
                                <input type="text" class="form-control" id="commonJobBlacklistKeywords" 
                                       placeholder="输入关键字后按回车添加">
                                <div id="jobBlacklistTags" class="tags-wrapper mt-2"></div>
                                <small class="form-text text-muted">
                                    <i class="bi bi-info-circle me-1"></i>
                                    职位标题、职位描述中包含这些关键字的岗位将被自动过滤
                                </small>
                            </div>

                            <!-- 公司黑名单关键字 -->
                            <div class="mb-4">
                                <label for="commonCompanyBlacklistKeywords" class="form-label fw-semibold">
                                    公司黑名单关键字
                                    <i class="bi bi-question-circle text-muted ms-1"
                                       data-bs-toggle="tooltip"
                                       title="公司名称中包含这些关键字的公司将被过滤。输入关键字后按回车添加"></i>
                                </label>
                                <input type="text" class="form-control" id="commonCompanyBlacklistKeywords" 
                                       placeholder="输入关键字后按回车添加">
                                <div id="companyBlacklistTags" class="tags-wrapper mt-2"></div>
                                <small class="form-text text-muted">
                                    <i class="bi bi-info-circle me-1"></i>
                                    公司名称中包含这些关键字的岗位将被自动过滤
                                </small>
                            </div>

                            <!-- AI配置 -->
                            <div class="mb-4">
                                <label class="form-label fw-semibold">
                                    AI配置
                                    <i class="bi bi-question-circle text-muted ms-1"
                                       data-bs-toggle="tooltip"
                                       title="配置AI平台及API密钥，用于智能生成内容"></i>
                                </label>
                                
                                <!-- AI平台选择 -->
                                <div class="mb-3">
                                    <label for="aiPlatform" class="form-label small">AI平台</label>
                                    <select class="form-select" id="aiPlatform" disabled>
                                        <option value="Deepseek">Deepseek</option>
                                        <!-- AI平台固定为Deepseek，不可更改 -->
                                    </select>
                                </div>
                                
                                <!-- AI平台KEY -->
                                <div class="mb-3">
                                    <label for="aiPlatformKey" class="form-label small">Deepseek API密钥</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="aiPlatformKey" 
                                               placeholder="请输入Deepseek的API Key">
                                        <button class="btn btn-outline-secondary" type="button" id="toggleAiPlatformKey">
                                            <i class="bi bi-eye" id="aiPlatformKeyIcon"></i>
                                        </button>
                                    </div>
                                    <div class="form-text">
                                        <i class="bi bi-shield-lock me-1"></i>
                                        密钥将加密存储，仅用于调用AI接口
                                    </div>
                                </div>
                                
                                <!-- AI智能功能开关 -->
                                <div class="mt-4">
                                    <h6 class="text-success mb-3">
                                        <i class="bi bi-robot me-2"></i>AI智能功能
                                    </h6>
                                    
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="commonEnableAIJobMatch">
                                        <label class="form-check-label fw-semibold small" for="commonEnableAIJobMatch">
                                            AI职位匹配检测
                                            <i class="bi bi-question-circle text-muted ms-1"
                                               data-bs-toggle="tooltip"
                                               title="开启后将使用AI智能分析职位描述，检测岗位与期望的匹配度，应用于所有招聘平台"></i>
                                        </label>
                                    </div>
                                    
                                    <div class="form-check mb-2">
                                        <input class="form-check-input" type="checkbox" id="commonEnableAIGreeting">
                                        <label class="form-check-label fw-semibold small" for="commonEnableAIGreeting">
                                            AI智能打招呼
                                            <i class="bi bi-question-circle text-muted ms-1"
                                               data-bs-toggle="tooltip"
                                               title="开启后将使用AI根据候选人信息和职位描述生成个性化的打招呼内容，应用于所有招聘平台"></i>
                                        </label>
                                    </div>
                                    
                                    <div class="alert alert-info small mt-3 mb-0" role="alert">
                                        <i class="bi bi-info-circle me-1"></i>
                                        AI功能需要配置AI平台和API密钥后才能使用，配置后将应用于所有招聘平台
                                    </div>
                                </div>
                            </div>

                            <!-- 功能开关配置 -->
                            <div class="mb-4">
                                <h6 class="text-info mb-3">
                                    <i class="bi bi-toggle-on me-2"></i>功能开关
                                </h6>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="commonFilterDeadHR">
                                    <label class="form-check-label fw-semibold small" for="commonFilterDeadHR">
                                        过滤不活跃HR
                                        <i class="bi bi-question-circle text-muted ms-1"
                                           data-bs-toggle="tooltip"
                                           title="开启后将自动过滤最近未活跃的HR，提高沟通效率，应用于所有平台"></i>
                                    </label>
                                </div>

                                <!-- HR Status Configuration (Accordion) -->
                                <div class="accordion mb-3" id="commonHrStatusConfigAccordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button"
                                                    data-bs-toggle="collapse" data-bs-target="#commonHrStatusConfig"
                                                    aria-expanded="false" aria-controls="commonHrStatusConfig">
                                                <i class="bi bi-gear-fill me-2"></i>HR过滤状态配置
                                            </button>
                                        </h2>
                                        <div id="commonHrStatusConfig" class="accordion-collapse collapse"
                                             data-bs-parent="#commonHrStatusConfigAccordion">
                                            <div class="accordion-body p-2">
                                                <div class="mb-2 small lh-sm">
                                                    <label for="commonHrStatusKeywords" class="form-label fw-semibold small">
                                                        HR过滤状态配置
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="配置需要过滤的HR活跃状态。输入关键字后按回车添加"></i>
                                                    </label>
                                                    <div class="tags-input-container" id="commonHrStatusTagsContainer">
                                                        <div class="tags-wrapper" id="commonHrStatusTags"></div>
                                                        <input type="text" 
                                                               class="tags-input" 
                                                               id="commonHrStatusKeywords"
                                                               placeholder="输入HR状态后按回车添加，如：半年前活跃">
                                                    </div>
                                                    <div class="form-text">
                                                        <i class="bi bi-info-circle me-1"></i>
                                                        输入关键字后<strong>按回车键</strong>添加，点击标签上的 × 可删除
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="commonSendImgResume">
                                    <label class="form-check-label fw-semibold small" for="commonSendImgResume">
                                        发送图片简历
                                        <i class="bi bi-question-circle text-muted ms-1"
                                           data-bs-toggle="tooltip"
                                           title="开启后将自动发送图片版简历，提高简历查看率，应用于所有平台"></i>
                                    </label>
                                </div>

                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="commonRecommendJobs">
                                    <label class="form-check-label fw-semibold small" for="commonRecommendJobs">
                                        接收推荐岗位
                                        <i class="bi bi-question-circle text-muted ms-1"
                                           data-bs-toggle="tooltip"
                                           title="开启后将自动接收系统推荐的相关职位，应用于所有平台"></i>
                                    </label>
                                </div>
                                
                                <div class="alert alert-info small mt-3 mb-0" role="alert">
                                    <i class="bi bi-info-circle me-1"></i>
                                    功能开关配置后将应用于所有招聘平台
                                </div>
                            </div>

                            <!-- 简历配置 -->
                            <div class="mb-4">
                                <h6 class="text-primary mb-3">
                                    <i class="bi bi-file-earmark-text me-2"></i>简历配置
                                </h6>
                                
                                <!-- 简历图片路径 -->
                                <div class="mb-3">
                                    <label for="commonResumeImagePath" class="form-label fw-semibold">
                                        简历图片路径 <span class="text-muted">(可选)</span>
                                    </label>
                                    <input type="text" class="form-control" id="commonResumeImagePath" 
                                           placeholder="如：/Users/zhang/my_resume.jpg">
                                    <small class="form-text text-muted">
                                        <i class="bi bi-info-circle me-1"></i>
                                        设置简历图片的完整文件路径，支持常见图片格式（jpg、png、gif等），应用于所有平台
                                    </small>
                                </div>
                                
                                <!-- 打招呼内容 -->
                                <div class="mb-3">
                                    <label for="commonSayHiContent" class="form-label fw-semibold">
                                        打招呼内容 <span class="text-muted">(可选)</span>
                                    </label>
                                    <textarea class="form-control" id="commonSayHiContent" rows="3" 
                                              placeholder="您好，我对贵公司的职位很感兴趣..."></textarea>
                                    <small class="form-text text-muted">
                                        <i class="bi bi-info-circle me-1"></i>
                                        设置与HR打招呼时的自动发送内容，应用于所有平台，建议个性化定制以增加回复率
                                    </small>
                                    
                                    <!-- AI建议打招呼内容区域 -->
                                    <div id="aiGreetingSection" class="mt-3 p-3" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); border-radius: 10px; border: 2px solid #f093fb; display: none;">
                                        <div class="d-flex align-items-center mb-2">
                                            <i class="bi bi-chat-heart text-white fs-5 me-2"></i>
                                            <span class="text-white fw-bold">AI 建议打招呼内容</span>
                                            <span class="badge bg-light text-warning ms-2">智能生成</span>
                                            <button class="btn btn-sm btn-light ms-auto" id="copyAiGreetingBtn" style="display: none;">
                                                <i class="bi bi-clipboard"></i> 复制
                                            </button>
                                        </div>
                                        <div id="aiGreetingMessage" class="p-2 bg-white rounded" style="color: #333; font-size: 14px; line-height: 1.6;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- 示例说明 -->
                            <div class="alert alert-info" role="alert">
                                <h6 class="alert-heading">
                                    <i class="bi bi-lightbulb me-2"></i>使用说明
                                </h6>
                                <ul class="mb-0 small">
                                    <li>关键字<strong>不区分大小写</strong>，系统会自动进行模糊匹配</li>
                                    <li>输入关键字后<strong>按回车键</strong>添加，点击标签上的 × 可删除</li>
                                    <li>建议将常见的外包、中介类关键字加入黑名单</li>
                                    <li>保存后将立即生效，应用于所有招聘平台的岗位过滤</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 右侧：候选人信息配置 -->
                <div class="col-lg-6">
                    <div class="card shadow-lg h-100">
                        <div class="card-header bg-white border-0 py-3">
                            <h5 class="mb-0 text-dark">
                                <i class="bi bi-person-circle me-2 text-primary"></i>候选人信息配置
                            </h5>
                            <small class="text-muted">用于 AI 生成个性化沟通内容</small>
                        </div>
                        <div class="card-body p-4" style="overflow-y: auto;">
                            <!-- 职位名称 -->
                            <div class="mb-3 required-field">
                                <label for="profileJobTitle" class="form-label fw-semibold">
                                    职位名称 <span class="text-danger fs-5">*</span>
                                    <span class="badge bg-danger ms-2">必填</span>
                                </label>
                                <input type="text" class="form-control border-danger border-2" id="profileJobTitle" required
                                       placeholder="如：Java开发工程师" style="box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.15);">
                            </div>
                            
                            <!-- 核心技能 -->
                            <div class="mb-3 required-field">
                                <label for="profileSkills" class="form-label fw-semibold">
                                    核心技能 <span class="text-danger fs-5">*</span>
                                    <span class="badge bg-danger ms-2">必填</span>
                                </label>
                                <input type="text" class="form-control border-danger border-2" id="profileSkills" required
                                       placeholder="输入技能后按回车添加" style="box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.15);">
                                <div id="profileSkillsTags" class="tags-wrapper mt-2"></div>
                                <small class="form-text text-danger fw-semibold">至少添加 1 项技能</small>
                                
                                <!-- AI建议技能区域 -->
                                <div id="aiTechStackSection" class="mt-3 p-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; border: 2px solid #5a67d8; display: none;">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="bi bi-robot text-white fs-5 me-2"></i>
                                        <span class="text-white fw-bold">AI 建议技能</span>
                                        <span class="badge bg-light text-primary ms-2">智能推荐</span>
                                    </div>
                                    <div id="aiTechStackTags" class="d-flex flex-wrap gap-2"></div>
                                </div>
                            </div>
                            
                            <!-- 工作年限 -->
                            <div class="mb-3 required-field">
                                <label for="profileYearsOfExperience" class="form-label fw-semibold">
                                    工作年限 <span class="text-danger fs-5">*</span>
                                    <span class="badge bg-danger ms-2">必填</span>
                                </label>
                                <select class="form-select border-danger border-2" id="profileYearsOfExperience" required
                                        style="box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.15);">
                                    <option value="">请选择</option>
                                    <option value="1年以下">1年以下</option>
                                    <option value="1-3年">1-3年</option>
                                    <option value="3-5年">3-5年</option>
                                    <option value="5-8年">5-8年</option>
                                    <option value="8年以上">8年以上</option>
                                    <option value="初级">初级</option>
                                    <option value="中级">中级</option>
                                    <option value="高级">高级</option>
                                </select>
                            </div>
                            
                            <!-- 职业意向 -->
                            <div class="mb-3 required-field">
                                <label for="profileCareerIntent" class="form-label fw-semibold">
                                    职业意向 <span class="text-danger fs-5">*</span>
                                    <span class="badge bg-danger ms-2">必填</span>
                                </label>
                                <textarea class="form-control border-danger border-2" id="profileCareerIntent" rows="3" required
                                          placeholder="简要描述你的职业规划和求职目标（建议 10-40 字）"
                                          style="box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.15);"></textarea>
                                <small class="form-text text-danger fw-semibold">建议 10-40 字</small>
                            </div>
                            
                            <!-- 领域经验 -->
                            <div class="mb-3">
                                <label for="profileDomainExperience" class="form-label fw-semibold">
                                    领域经验
                                </label>
                                <input type="text" class="form-control" id="profileDomainExperience"
                                       placeholder="输入领域经验后按回车添加（可选）">
                                <div id="profileDomainExperienceTags" class="tags-wrapper mt-2"></div>
                                <small class="form-text text-muted">例如：跨境电商、金融科技、SaaS 等</small>
                                
                                <!-- AI建议领域经验区域 -->
                                <div id="aiDomainSection" class="mt-3" style="display: none;">
                                    <!-- 热门行业 -->
                                    <div class="p-3 mb-2" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 10px; border: 2px solid #e84393;">
                                        <div class="d-flex align-items-center mb-2">
                                            <i class="bi bi-stars text-white fs-5 me-2"></i>
                                            <span class="text-white fw-bold">AI 建议热门行业</span>
                                            <span class="badge bg-light text-danger ms-2">智能推荐</span>
                                        </div>
                                        <div id="aiHotIndustriesTags" class="d-flex flex-wrap gap-2"></div>
                                    </div>
                                    
                                    <!-- 相关领域 -->
                                    <div class="p-3" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 10px; border: 2px solid #2193b0;">
                                        <div class="d-flex align-items-center mb-2">
                                            <i class="bi bi-lightbulb text-white fs-5 me-2"></i>
                                            <span class="text-white fw-bold">AI 建议相关领域</span>
                                            <span class="badge bg-light text-info ms-2">智能推荐</span>
                                        </div>
                                        <div id="aiRelatedDomainsTags" class="d-flex flex-wrap gap-2"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 期望地点 -->
                            <div class="mb-3">
                                <label for="profileLocation" class="form-label fw-semibold">
                                    期望地点
                                </label>
                                <input type="text" class="form-control" id="profileLocation" 
                                       placeholder="如：北京、上海、深圳、可远程">
                            </div>
                            
                            <!-- 个人亮点 -->
                            <div class="mb-3">
                                <label for="profileHighlights" class="form-label fw-semibold">
                                    个人亮点
                                </label>
                                <input type="text" class="form-control" id="profileHighlights"
                                       placeholder="输入亮点后按回车添加">
                                <div id="profileHighlightsTags" class="tags-wrapper mt-2"></div>
                                <small class="form-text text-muted">最多添加 5 项亮点</small>
                            </div>
                            
                            <!-- 沟通语气 -->
                            <div class="mb-3">
                                <label for="profileTone" class="form-label fw-semibold">
                                    沟通语气
                                </label>
                                <select class="form-select" id="profileTone" disabled>
                                    <option value="">请选择（可选）</option>
                                    <option value="礼貌亲切" selected>礼貌亲切</option>
                                    <option value="专业克制">专业克制</option>
                                    <option value="自然轻松">自然轻松</option>
                                    <option value="简洁商务">简洁商务</option>
                                </select>
                                <small class="form-text text-muted">AI 生成招呼语时使用的语气风格</small>
                            </div>
                            
                            <!-- 语言 -->
                            <div class="mb-3">
                                <label for="profileLanguage" class="form-label fw-semibold">
                                    语言
                                </label>
                                <select class="form-select" id="profileLanguage" disabled>
                                    <option value="">请选择（可选）</option>
                                    <option value="zh_CN" selected>中文（简体）</option>
                                    <option value="en_US">English (US)</option>
                                </select>
                            </div>
                            
                            <!-- 最大字符数 -->
                            <div class="mb-3">
                                <label for="profileMaxChars" class="form-label fw-semibold">
                                    最大字符数
                                </label>
                                <input type="number" class="form-control" id="profileMaxChars" 
                                       min="80" max="180" value="180"
                                       placeholder="范围：80-180，默认 180" disabled>
                                <small class="form-text text-muted">AI 生成招呼语的最大字符数（80-180）</small>
                            </div>
                            
                            <!-- 去重关键词 -->
                            <div class="mb-3">
                                <label for="profileDedupeKeywords" class="form-label fw-semibold">
                                    去重关键词
                                </label>
                                <input type="text" class="form-control" id="profileDedupeKeywords"
                                       placeholder="输入关键词后按回车添加" disabled>
                                <div id="profileDedupeKeywordsTags" class="tags-wrapper mt-2"></div>
                                <small class="form-text text-muted">用于过滤不感兴趣的内容</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 底部操作按钮 -->
                <div class="col-12">
                    <div class="card shadow-sm">
                        <div class="card-body p-3">
                            <div class="row g-2 justify-content-center">
                                <div class="col-md-3">
                                    <button type="button" class="btn btn-primary w-100" id="saveCommonConfigBtn">
                                        <i class="bi bi-save me-2"></i>保存所有配置
                                    </button>
                                </div>
                                <div class="col-md-3">
                                    <button type="button" class="btn btn-outline-secondary w-100" id="resetCommonConfigBtn">
                                        <i class="bi bi-arrow-counterclockwise me-2"></i>重置配置
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Boss直聘 -->
        <div class="tab-pane fade" id="boss-pane" role="tabpanel" aria-labelledby="boss-tab">
            <ul class="nav nav-pills mb-2" id="boss-subtabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="boss-config-tab" data-bs-toggle="tab"
                            data-bs-target="#boss-config-pane" type="button" role="tab" aria-controls="boss-config-pane"
                            aria-selected="true">配置
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="boss-records-tab" data-bs-toggle="tab"
                            data-bs-target="#boss-records-pane" type="button" role="tab"
                            aria-controls="boss-records-pane" aria-selected="false">岗位明细
                    </button>
                </li>
            </ul>
            <div class="tab-content" id="bossSubtabsContent">
                <div class="tab-pane fade show active" id="boss-config-pane" role="tabpanel"
                     aria-labelledby="boss-config-tab">
                    <div class="row g-2" style="height: calc(100vh - 200px);">

                        <!-- Left Panel: Basic Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-gear-fill me-2 text-primary"></i>基本配置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">

                                        <!-- Search Configuration Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-search me-2"></i>搜索条件
                                            </h6>

                                            <!-- Keywords -->
                                            <div class="mb-2">
                                                <label for="keywordsField" class="form-label fw-semibold small">
                                                    搜索关键词
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="输入职位搜索关键词，多个关键词请用英文逗号分隔，例如：Java,Spring,后端"></i>
                                                </label>
                                                <input type="text" class="form-control form-control-sm" id="keywordsField"
                                                       placeholder="Java, Spring Boot, 微服务">
                                            </div>

                                            <!-- Industry -->
                                            <div class="mb-2">
                                                <label for="industryField" class="form-label fw-semibold small">
                                                    目标行业
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="从字典中选择目标行业，支持模糊检索；可多选"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="industryDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择行业
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="industryDropdownBtn" style="min-width: 100%;">
                                                        <input type="text" class="form-control form-control-sm mb-2" id="industrySearchField"
                                                               placeholder="输入行业名称进行筛选...">
                                                        <div id="industryDropdownList" style="max-height: 240px; overflow: auto;"></div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="industrySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="industryField" multiple></select>
                                            </div>

                                            <!-- City (Bootstrap Dropdown + 搜索 + 多选)，保留隐藏select兼容旧逻辑 -->
                                            <div class="mb-2">
                                                <label for="cityCodeField" class="form-label fw-semibold small">
                                                    工作城市
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="从字典中选择工作城市，支持模糊检索；可多选"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="cityDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择城市
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="cityDropdownBtn" style="min-width: 100%;">
                                                        <input type="text" class="form-control form-control-sm mb-2" id="citySearchField"
                                                               placeholder="输入城市名或编码进行筛选...">
                                                        <div id="cityDropdownList" style="max-height: 240px; overflow: auto;"></div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="citySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="cityCodeField" multiple></select>
                                            </div>
                                            <!-- Advanced Configuration Accordion (城市编码补充已移除) -->
                                        </div>

                                        <!-- Job Requirements Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-clipboard-check me-2"></i>职位要求
                                            </h6>

                                            <div class="row g-2">
                                                <!-- Experience -->
                                                <div class="col-md-6">
                                                    <label for="experienceComboBox" class="form-label fw-semibold small">
                                                        工作经验
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的工作年限区间"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="experienceComboBox">
                                                        <option value="">请选择</option>
                                                        <option value="0-1">0-1年</option>
                                                        <option value="1-3">1-3年</option>
                                                        <option value="3-5">3-5年</option>
                                                        <option value="5-10">5-10年</option>
                                                        <option value="10+">10年以上</option>
                                                    </select>
                                                </div>

                                                <!-- Job Type -->
                                                <div class="col-md-6">
                                                    <label for="jobTypeComboBox" class="form-label fw-semibold small">
                                                        求职类型
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的工作性质，如全职、兼职等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="jobTypeComboBox">
                                                        <option value="">请选择</option>
                                                        <option value="full">全职</option>
                                                        <option value="part">兼职</option>
                                                        <option value="intern">实习</option>
                                                        <option value="contract">合同工</option>
                                                    </select>
                                                </div>

                                                <!-- Salary Range -->
                                                <div class="col-md-6">
                                                    <label for="salaryComboBox" class="form-label fw-semibold small">
                                                        薪资范围
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的月薪范围"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="salaryComboBox">
                                                        <option value="">请选择</option>
                                                        <option value="5-10">5-10K</option>
                                                        <option value="10-15">10-15K</option>
                                                        <option value="15-25">15-25K</option>
                                                        <option value="25-40">25-40K</option>
                                                        <option value="40+">40K以上</option>
                                                    </select>
                                                </div>

                                                <!-- Education -->
                                                <div class="col-md-6">
                                                    <label for="degreeComboBox" class="form-label fw-semibold small">
                                                        学历要求
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的最高学历"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="degreeComboBox">
                                                        <option value="">请选择</option>
                                                        <option value="high">高中</option>
                                                        <option value="college">大专</option>
                                                        <option value="bachelor">本科</option>
                                                        <option value="master">硕士</option>
                                                        <option value="doctor">博士</option>
                                                    </select>
                                                </div>

                                                <!-- Company Scale -->
                                                <div class="col-md-6">
                                                    <label for="scaleComboBox" class="form-label fw-semibold small">
                                                        公司规模
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的公司人员规模"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="scaleComboBox">
                                                        <option value="">请选择</option>
                                                        <option value="0-20">0-20人</option>
                                                        <option value="20-99">20-99人</option>
                                                        <option value="100-499">100-499人</option>
                                                        <option value="500-999">500-999人</option>
                                                        <option value="1000+">1000人以上</option>
                                                    </select>
                                                </div>

                                                <!-- Funding Stage -->
                                                <div class="col-md-6">
                                                    <label for="stageComboBox" class="form-label fw-semibold small">
                                                        融资阶段
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望公司的融资阶段，如未融资、A轮、B轮等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="stageComboBox">
                                                        <option value="">请选择</option>
                                                        <option value="none">未融资</option>
                                                        <option value="angel">天使轮</option>
                                                        <option value="a">A轮</option>
                                                        <option value="b">B轮</option>
                                                        <option value="c">C轮</option>
                                                        <option value="d">D轮及以上</option>
                                                        <option value="ipo">已上市</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!-- Expected Salary -->
                                            <div class="mt-2">
                                                <label class="form-label fw-semibold small">
                                                    期望薪资 (K)
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="输入期望的薪资范围（单位：K）"></i>
                                                </label>
                                                <div class="row g-2 align-items-center">
                                                    <div class="col-auto">
                                                        <input type="number" class="form-control form-control-sm" id="minSalaryField"
                                                               placeholder="15" style="width: 80px;" min="0" max="100" step="1" inputmode="numeric">
                                                    </div>
                                                    <div class="col-auto">
                                                        <span class="fw-bold text-muted small">~</span>
                                                    </div>
                                                    <div class="col-auto">
                                                        <input type="number" class="form-control form-control-sm" id="maxSalaryField"
                                                               placeholder="30" style="width: 80px;" min="0" max="100" step="1" inputmode="numeric">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Right Panel: Settings & AI Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-cpu me-2 text-success"></i>智能设置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">



                                        <!-- Action Buttons -->
                                        <div class="d-grid gap-2 mt-auto">
                                            <div class="row g-2">
                                                <div class="col-12">
                                                    <button type="button" class="btn btn-outline-primary btn-sm w-100 py-2"
                                                            id="saveConfigBtn">
                                                        <i class="bi bi-save me-2"></i>保存配置
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <!-- 任务执行按钮组 -->
                                            <div class="border-top pt-2">
                                                <h6 class="text-muted mb-2 small">
                                                    <i class="bi bi-list-ol me-2"></i>任务执行步骤
                                                </h6>
                                                
                                                <!-- 步骤1: 登录 -->
                                                <button type="button" class="btn btn-primary btn-sm w-100 py-2 mb-1"
                                                        id="loginBtn" disabled>
                                                    <i class="bi bi-box-arrow-in-right me-2"></i>1. Boss登录
                                                    <span class="badge bg-light text-dark ms-2" id="loginStatus">待执行</span>
                                                </button>
                                                
                                                <!-- 步骤2: 采集岗位 -->
                                                <button type="button" class="btn btn-info btn-sm w-100 py-2 mb-1"
                                                        id="collectBtn" disabled>
                                                    <i class="bi bi-collection me-2"></i>2. 采集岗位
                                                    <span class="badge bg-light text-dark ms-2" id="collectStatus">等待登录</span>
                                                </button>
                                                
                                                <!-- 步骤3: 过滤岗位 -->
                                                <button type="button" class="btn btn-warning btn-sm w-100 py-2 mb-1"
                                                        id="filterBtn" disabled>
                                                    <i class="bi bi-funnel me-2"></i>3. 过滤岗位
                                                    <span class="badge bg-light text-dark ms-2" id="filterStatus">等待登录</span>
                                                </button>
                                                
                                                <!-- 步骤4: 投递岗位 -->
                                                <button type="button" class="btn btn-success btn-sm w-100 py-2 mb-1"
                                                        id="deliverBtn" disabled>
                                                    <i class="bi bi-rocket-takeoff me-2"></i>4. 投递岗位
                                                    <span class="badge bg-light text-dark ms-2" id="deliverStatus">等待登录</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- Boss 岗位明细 -->
                <div class="tab-pane fade" id="boss-records-pane" role="tabpanel" aria-labelledby="boss-records-tab">
                    <div class="card shadow-lg">
                        <div class="card-header bg-white border-0 d-flex align-items-center justify-content-between">
                            <h5 class="mb-0 text-dark"><i class="bi bi-journal-text me-2 text-primary"></i>岗位明细</h5>
                            <div class="d-flex gap-2">
                                <input type="text" class="form-control form-control-sm" id="bossRecordKeyword"
                                       placeholder="岗位/公司/HR关键词">
                                <button class="btn btn-sm btn-outline-primary" id="bossRecordSearchBtn"><i
                                        class="bi bi-search"></i></button>
                                <button class="btn btn-sm btn-outline-secondary" id="bossRecordRefreshBtn"><i
                                        class="bi bi-arrow-clockwise"></i></button>
                                <button class="btn btn-sm btn-outline-warning" id="bossRecordResetBtn" title="重置岗位状态"><i
                                        class="bi bi-arrow-counterclockwise"></i></button>
                                <button class="btn btn-sm btn-outline-danger" id="bossRecordDeleteBtn" title="删除所有岗位"><i
                                        class="bi bi-trash"></i></button>
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Vue应用挂载点 -->
                            <div id="bossRecordsApp">
                                <div v-if="loading" class="text-center text-muted py-4">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">加载中...</span>
                                    </div>
                                    <p class="mt-2">加载中...</p>
                                </div>
                                <div v-else-if="error" class="alert alert-danger" role="alert">
                                    <i class="bi bi-exclamation-triangle me-2"></i>{{ error }}
                                </div>
                                <div v-else>
                                    <!-- 统计信息 -->
                                    <div class="row mb-3">
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalElements }}</h6>
                                                <small>总岗位数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ currentPageData.length }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalPages }}</h6>
                                                <small>总页数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ currentPage + 1 }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 表格 -->
                                    <div class="table-responsive job-records-table" style="max-height: 600px; overflow-y: auto;">
                                        <table class="table table-hover align-middle table-striped">
                                            <thead class="table-dark sticky-top">
                                            <tr>
                                                <th style="min-width: 140px;">岗位信息</th>
                                                <th style="min-width: 120px;">公司信息</th>
                                                <th style="min-width: 100px;">工作地点</th>
                                                <th style="min-width: 100px;">薪资待遇</th>
                                                <th style="min-width: 120px;">职位要求</th>
                                                <th style="min-width: 100px;">技能标签</th>
                                                <th style="min-width: 120px;">HR信息</th>
                                                <th style="min-width: 100px;">公司福利</th>
                                                <th style="min-width: 100px;">投递状态</th>
                                                <th style="min-width: 140px;">过滤原因</th>
                                                <th style="min-width: 120px;">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-if="currentPageData.length === 0">
                                                <td colspan="11" class="empty-state">
                                                    <i class="bi bi-inbox"></i>
                                                    <h5>暂无数据</h5>
                                                    <p>请先执行岗位采集任务</p>
                                                </td>
                                            </tr>
                                            <tr v-for="job in currentPageData" :key="job.id" class="job-row">
                                                <!-- 岗位信息 -->
                                                <td>
                                                    <div class="job-title">{{ job.jobTitle }}</div>
                                                    <div class="job-position">{{ job.jobPositionName }}</div>
                                                    <div class="job-labels">
                                                        <span v-for="label in parseArray(job.jobLabels)" :key="label" 
                                                              class="badge bg-light text-dark">{{ label }}</span>
                                                    </div>
                                                    <div class="job-status" v-if="job.jobStatusDesc">
                                                        <span class="badge bg-info">{{ job.jobStatusDesc }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司信息 -->
                                                <td>
                                                    <div class="company-name">{{ job.companyName }}</div>
                                                    <div class="company-info">
                                                        <div><i class="bi bi-building me-1"></i>{{ job.companyIndustry }}</div>
                                                        <div><i class="bi bi-people me-1"></i>{{ job.companyScale }}</div>
                                                        <div><i class="bi bi-graph-up me-1"></i>{{ job.companyStage }}</div>
                                                    </div>
                                                    <div class="company-logo" v-if="job.companyLogo">
                                                        <img :src="job.companyLogo" class="company-logo-img" :alt="job.companyName">
                                                    </div>
                                                </td>
                                                
                                                <!-- 工作地点 -->
                                                <td>
                                                    <div class="location-city">{{ job.workCity }}</div>
                                                    <div class="location-details">
                                                        <div><i class="bi bi-geo-alt me-1"></i>{{ job.workArea }}</div>
                                                        <div><i class="bi bi-building me-1"></i>{{ job.businessDistrict }}</div>
                                                    </div>
                                                    <div class="location-address" v-if="job.jobAddress">
                                                        <small class="text-muted">{{ truncateText(job.jobAddress, 30) }}</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- 薪资待遇 -->
                                                <td>
                                                    <div class="salary-desc">{{ job.salaryDesc }}</div>
                                                    <div class="job-requirements">
                                                        <div><i class="bi bi-clock me-1"></i>{{ job.jobExperience }}</div>
                                                        <div><i class="bi bi-mortarboard me-1"></i>{{ job.jobDegree }}</div>
                                                    </div>
                                                    <div class="job-type" v-if="job.jobType !== undefined">
                                                        <span class="badge bg-secondary">{{ getJobTypeText(job.jobType) }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 职位要求 -->
                                                <td>
                                                    <div class="job-description" v-if="job.jobPostDescription">
                                                        {{ truncateText(job.jobPostDescription, 80) }}
                                                    </div>
                                                    <div class="job-experience" v-if="job.jobExperienceName">
                                                        <small class="text-muted">经验要求: {{ job.jobExperienceName }}</small>
                                                    </div>
                                                    <div class="job-degree" v-if="job.jobDegreeName">
                                                        <small class="text-muted">学历要求: {{ job.jobDegreeName }}</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- 技能标签 -->
                                                <td>
                                                    <div class="skills-container">
                                                        <span v-for="skill in parseArray(job.jobShowSkills || job.skills).slice(0, 4)" :key="skill" 
                                                              class="badge bg-secondary">{{ skill }}</span>
                                                        <span v-if="parseArray(job.jobShowSkills || job.skills).length > 4" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.jobShowSkills || job.skills).length - 4 }}
                                                        </span>
                                                    </div>
                                                    <div class="skill-count" v-if="parseArray(job.jobShowSkills || job.skills).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.jobShowSkills || job.skills).length }}项技能</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- HR信息 -->
                                                <td>
                                                    <div class="hr-info">
                                                        <img v-if="job.hrAvatar" :src="job.hrAvatar" 
                                                             class="hr-avatar" :alt="job.hrName">
                                                        <div class="hr-name">{{ job.hrName }}</div>
                                                    </div>
                                                    <div class="hr-details">
                                                        <div><i class="bi bi-person-badge me-1"></i>{{ job.hrTitle }}</div>
                                                        <div class="hr-status">
                                                            <span :class="job.hrOnline ? 'text-success' : 'text-muted'">
                                                                <i class="bi bi-circle-fill"></i>
                                                                {{ job.hrOnline ? '在线' : '离线' }}
                                                            </span>
                                                        </div>
                                                        <div v-if="job.hrActiveTimeDesc">{{ job.hrActiveTimeDesc }}</div>
                                                        <div v-if="job.bossActiveTimeDesc" class="boss-active-time">
                                                            <i class="bi bi-clock me-1"></i>{{ job.bossActiveTimeDesc }}
                                                        </div>
                                                        <div v-if="job.hrCertLevel" class="hr-cert">
                                                            <span class="badge bg-warning">认证{{ job.hrCertLevel }}级</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司福利 -->
                                                <td>
                                                    <div class="welfare-container" v-if="parseArray(job.brandLabels).length > 0">
                                                        <span v-for="welfare in parseArray(job.brandLabels).slice(0, 3)" :key="welfare" 
                                                              class="badge bg-success">{{ welfare }}</span>
                                                        <span v-if="parseArray(job.brandLabels).length > 3" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.brandLabels).length - 3 }}
                                                        </span>
                                                    </div>
                                                    <div class="welfare-count" v-if="parseArray(job.brandLabels).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.brandLabels).length }}项福利</small>
                                                    </div>
                                                    <div class="no-welfare" v-else>
                                                        <small class="text-muted">暂无福利信息</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- 投递状态 -->
                                                <td>
                                                    <div class="status-badge" :class="getStatusBadgeClass(job.status)">
                                                        {{ getStatusText(job.status) }}
                                                    </div>
                                                    <div class="status-time">
                                                        <div><i class="bi bi-calendar me-1"></i>{{ formatDateTime(job.createdAt) }}</div>
                                                        <div><i class="bi bi-clock me-1"></i>{{ formatDateTime(job.updatedAt) }}</div>
                                                    </div>
                                                    <div class="job-flags" v-if="job.isFavorite || job.isOptimal">
                                                        <span v-if="job.isFavorite" class="badge bg-danger me-1">收藏</span>
                                                        <span v-if="job.isOptimal" class="badge bg-warning">优选</span>
                                                    </div>
                                                </td>

                                                <!-- 过滤原因 -->
                                                <td>
                                                    <div v-if="job.filterReason" :title="job.filterReason">
                                                        {{ truncateText(job.filterReason, 60) }}
                                                    </div>
                                                    <div v-else class="text-muted">
                                                        -
                                                    </div>
                                                </td>
                                                
                                                <!-- 操作 -->
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-outline-primary btn-sm" 
                                                                @click="viewJobDetail(job)" title="查看详情">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-outline-info btn-sm" 
                                                                @click="copyJobUrl(job)" title="复制链接">
                                                            <i class="bi bi-link-45deg"></i>
                                                        </button>
                                                        <button class="btn btn-outline-success btn-sm" 
                                                                @click="toggleFavorite(job)" 
                                                                :class="job.isFavorite ? 'active' : ''" title="收藏">
                                                            <i class="bi bi-heart"></i>
                                                        </button>
                                                        <button class="btn btn-outline-warning btn-sm" 
                                                                @click="viewCompanyInfo(job)" title="公司信息">
                                                            <i class="bi bi-building"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <!-- 分页 -->
                                    <nav v-if="totalPages > 1">
                                        <ul class="pagination justify-content-center">
                                            <li class="page-item" :class="{ disabled: currentPage === 0 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage - 1)">上一页</a>
                                            </li>
                                            <li v-for="page in visiblePages" :key="page" 
                                                class="page-item" :class="{ active: page === currentPage }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(page)">{{ page + 1 }}</a>
                                            </li>
                                            <li class="page-item" :class="{ disabled: currentPage === totalPages - 1 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage + 1)">下一页</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 智联招聘 -->
        <div class="tab-pane fade" id="zhilian-pane" role="tabpanel" aria-labelledby="zhilian-tab">
            <ul class="nav nav-pills mb-3" id="zhilian-subtabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="zhilian-config-tab" data-bs-toggle="tab"
                            data-bs-target="#zhilian-config-pane" type="button" role="tab"
                            aria-controls="zhilian-config-pane" aria-selected="true">配置
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="zhilian-records-tab" data-bs-toggle="tab"
                            data-bs-target="#zhilian-records-pane" type="button" role="tab"
                            aria-controls="zhilian-records-pane" aria-selected="false">岗位明细
                    </button>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="zhilian-config-pane" role="tabpanel"
                     aria-labelledby="zhilian-config-tab">
                    <div class="row g-2" style="height: calc(100vh - 200px);">
                        <!-- Left Panel: Basic Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-gear-fill me-2 text-primary"></i>基本配置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">

                                        <!-- Search Configuration Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-search me-2"></i>搜索条件
                                            </h6>

                                            <!-- Keywords -->
                                            <div class="mb-2">
                                                <label for="zhilianKeywordsField" class="form-label fw-semibold small">
                                                    搜索关键词
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="输入职位搜索关键词，多个关键词请用英文逗号分隔，例如：Java,Spring,后端"></i>
                                                </label>
                                                <input type="text" class="form-control form-control-sm" id="zhilianKeywordsField"
                                                       placeholder="Java, Spring Boot, 微服务">
                                            </div>

                                            <!-- Industry -->
                                            <div class="mb-2">
                                                <label for="zhilianIndustryField" class="form-label fw-semibold small">
                                                    目标行业
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="先选择一级行业分类，再从右侧选择具体行业；可多选"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="zhilianIndustryDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择行业
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="zhilianIndustryDropdownBtn" style="min-width: 100%; width: 500px;" onclick="event.stopPropagation();">
                                                        <!-- 搜索框 -->
                                                        <input type="text" class="form-control form-control-sm mb-2" id="zhilianIndustrySearchField"
                                                               placeholder="输入行业名称进行筛选...">
                                                        <!-- 两栏布局 -->
                                                        <div class="row g-2" style="min-height: 240px;">
                                                            <!-- 左侧：一级行业列表 -->
                                                            <div class="col-5">
                                                                <div class="small text-muted mb-1 fw-semibold">一级分类</div>
                                                                <div id="zhilianIndustryParentList" style="max-height: 220px; overflow-y: auto; border-right: 1px solid #dee2e6;">
                                                                    <!-- 动态生成 -->
                                                                </div>
                                                            </div>
                                                            <!-- 右侧：二级行业列表 -->
                                                            <div class="col-7">
                                                                <div class="small text-muted mb-1 fw-semibold">具体行业</div>
                                                                <div id="zhilianIndustryChildList" style="max-height: 220px; overflow-y: auto;">
                                                                    <div class="text-center text-muted small py-4">
                                                                        <i class="bi bi-arrow-left me-1"></i>请先选择左侧分类
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="zhilianIndustrySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="zhilianIndustryField" multiple></select>
                                            </div>

                                            <!-- City -->
                                            <div class="mb-2">
                                                <label for="zhilianCityCodeField" class="form-label fw-semibold small">
                                                    工作城市
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="从字典中选择工作城市，支持模糊检索；可多选"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="zhilianCityDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择城市
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="zhilianCityDropdownBtn" style="min-width: 100%;">
                                                        <input type="text" class="form-control form-control-sm mb-2" id="zhilianCitySearchField"
                                                               placeholder="输入城市名或编码进行筛选...">
                                                        <div id="zhilianCityDropdownList" style="max-height: 240px; overflow: auto;"></div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="zhilianCitySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="zhilianCityCodeField" multiple></select>
                                            </div>
                                        </div>

                                        <!-- Job Requirements Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-clipboard-check me-2"></i>职位要求
                                            </h6>

                                            <div class="row g-2">
                                                <!-- Experience -->
                                                <div class="col-md-6">
                                                    <label for="zhilianExperienceComboBox" class="form-label fw-semibold small">
                                                        工作经验
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的工作年限区间"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="zhilianExperienceComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Job Type -->
                                                <div class="col-md-6">
                                                    <label for="zhilianJobTypeComboBox" class="form-label fw-semibold small">
                                                        求职类型
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的工作性质，如全职、兼职等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="zhilianJobTypeComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Salary Range -->
                                                <div class="col-md-6">
                                                    <label for="zhilianSalaryComboBox" class="form-label fw-semibold small">
                                                        薪资范围
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的月薪范围"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="zhilianSalaryComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Education -->
                                                <div class="col-md-6">
                                                    <label for="zhilianDegreeComboBox" class="form-label fw-semibold small">
                                                        学历要求
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的最高学历"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="zhilianDegreeComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Company Scale -->
                                                <div class="col-md-6">
                                                    <label for="zhilianScaleComboBox" class="form-label fw-semibold small">
                                                        公司规模
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的公司人员规模"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="zhilianScaleComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Company Nature -->
                                                <div class="col-md-6">
                                                    <label for="zhilianCompanyNatureComboBox" class="form-label fw-semibold small">
                                                        公司性质
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望公司的性质，如国企、外企、民企等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="zhilianCompanyNatureComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Panel: Settings & AI Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-cpu me-2 text-success"></i>智能设置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">


                                        <!-- Action Buttons -->
                                        <div class="d-grid gap-2 mt-auto">
                                            <div class="row g-2">
                                                <div class="col-12">
                                                    <button type="button" class="btn btn-outline-primary btn-sm w-100 py-2"
                                                            id="zhilianSaveConfigBtn">
                                                        <i class="bi bi-save me-2"></i>保存配置
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <!-- 任务执行按钮组 -->
                                            <div class="border-top pt-2">
                                                <h6 class="text-muted mb-2 small">
                                                    <i class="bi bi-list-ol me-2"></i>任务执行步骤
                                                </h6>
                                                
                                                <!-- 步骤1: 登录 -->
                                                <button type="button" class="btn btn-primary btn-sm w-100 py-2 mb-1"
                                                        id="zhilianLoginBtn" disabled>
                                                    <i class="bi bi-box-arrow-in-right me-2"></i>1. 智联招聘登录
                                                    <span class="badge bg-light text-dark ms-2" id="zhilianLoginStatus">待执行</span>
                                                </button>
                                                
                                                <!-- 步骤2: 采集职位 -->
                                                <button type="button" class="btn btn-info btn-sm w-100 py-2 mb-1"
                                                        id="zhilianCollectBtn" disabled>
                                                    <i class="bi bi-collection me-2"></i>2. 采集职位
                                                    <span class="badge bg-light text-dark ms-2" id="zhilianCollectStatus">等待登录</span>
                                                </button>
                                                
                                                <!-- 步骤3: 过滤职位 -->
                                                <button type="button" class="btn btn-warning btn-sm w-100 py-2 mb-1"
                                                        id="zhilianFilterBtn" disabled>
                                                    <i class="bi bi-funnel me-2"></i>3. 过滤职位
                                                    <span class="badge bg-light text-dark ms-2" id="zhilianFilterStatus">等待登录</span>
                                                </button>
                                                
                                                <!-- 步骤4: 投递职位 -->
                                                <button type="button" class="btn btn-success btn-sm w-100 py-2 mb-1"
                                                        id="zhilianApplyBtn" disabled>
                                                    <i class="bi bi-rocket-takeoff me-2"></i>4. 投递职位
                                                    <span class="badge bg-light text-dark ms-2" id="zhilianApplyStatus">等待登录</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="zhilian-records-pane" role="tabpanel"
                     aria-labelledby="zhilian-records-tab">
                    <div class="card shadow-lg">
                        <div class="card-header bg-white border-0 d-flex align-items-center justify-content-between">
                            <h5 class="mb-0 text-dark"><i class="bi bi-journal-text me-2 text-primary"></i>岗位明细</h5>
                            <div class="d-flex gap-2">
                                <input type="text" class="form-control form-control-sm" id="zhilianRecordKeyword"
                                       placeholder="岗位/公司/HR关键词">
                                <button class="btn btn-sm btn-outline-primary" id="zhilianRecordSearchBtn"><i
                                        class="bi bi-search"></i></button>
                                <button class="btn btn-sm btn-outline-secondary" id="zhilianRecordRefreshBtn"><i
                                        class="bi bi-arrow-clockwise"></i></button>
                                <button class="btn btn-sm btn-outline-warning" id="zhilianRecordResetBtn" title="重置岗位状态"><i
                                        class="bi bi-arrow-counterclockwise"></i></button>
                                <button class="btn btn-sm btn-outline-danger" id="zhilianRecordDeleteBtn" title="删除所有岗位"><i
                                        class="bi bi-trash"></i></button>
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Vue应用挂载点 -->
                            <div id="zhilianRecordsVueApp">
                                <div v-if="loading" class="text-center text-muted py-4">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">加载中...</span>
                                    </div>
                                    <p class="mt-2">加载中...</p>
                                </div>
                                <div v-else-if="error" class="alert alert-danger" role="alert">
                                    <i class="bi bi-exclamation-triangle me-2"></i>{{ error }}
                                </div>
                                <div v-else>
                                    <!-- 统计信息 -->
                                    <div class="row mb-3">
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalElements }}</h6>
                                                <small>总岗位数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ records.length }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalPages }}</h6>
                                                <small>总页数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ currentPage + 1 }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 表格 -->
                                    <div class="table-responsive job-records-table" style="max-height: 600px; overflow-y: auto;">
                                        <table class="table table-hover align-middle table-striped">
                                            <thead class="table-dark sticky-top">
                                            <tr>
                                                <th style="min-width: 140px;">岗位信息</th>
                                                <th style="min-width: 120px;">公司信息</th>
                                                <th style="min-width: 100px;">工作地点</th>
                                                <th style="min-width: 100px;">薪资待遇</th>
                                                <th style="min-width: 120px;">职位要求</th>
                                                <th style="min-width: 100px;">技能标签</th>
                                                <th style="min-width: 120px;">HR信息</th>
                                                <th style="min-width: 100px;">公司福利</th>
                                                <th style="min-width: 100px;">投递状态</th>
                                                <th style="min-width: 140px;">过滤原因</th>
                                                <th style="min-width: 120px;">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-if="records.length === 0">
                                                <td colspan="11" class="empty-state">
                                                    <i class="bi bi-inbox"></i>
                                                    <h5>暂无数据</h5>
                                                    <p>请先执行岗位采集任务</p>
                                                </td>
                                            </tr>
                                            <tr v-for="job in records" :key="job.id" class="job-row">
                                                <!-- 岗位信息 -->
                                                <td>
                                                    <div class="job-title">{{ job.jobTitle }}</div>
                                                    <div class="job-labels">
                                                        <span v-for="label in parseArray(job.jobLabels)" :key="label" 
                                                              class="badge bg-light text-dark">{{ label }}</span>
                                                    </div>
                                                    <div class="job-platform">
                                                        <span class="badge bg-info">{{ job.platform }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司信息 -->
                                                <td>
                                                    <div class="company-name">{{ job.companyName }}</div>
                                                    <div class="company-info">
                                                        <div><i class="bi bi-building me-1"></i>{{ job.companyIndustry }}</div>
                                                        <div><i class="bi bi-people me-1"></i>{{ job.companyScale }}</div>
                                                        <div><i class="bi bi-graph-up me-1"></i>{{ job.companyStage }}</div>
                                                    </div>
                                                    <div class="company-logo" v-if="job.companyLogo">
                                                        <img :src="job.companyLogo" class="company-logo-img" :alt="job.companyName">
                                                    </div>
                                                </td>
                                                
                                                <!-- 工作地点 -->
                                                <td>
                                                    <div class="location-city">{{ job.workCity }}</div>
                                                    <div class="location-details">
                                                        <div><i class="bi bi-geo-alt me-1"></i>{{ job.workArea }}</div>
                                                        <div v-if="job.businessDistrict"><i class="bi bi-building me-1"></i>{{ job.businessDistrict }}</div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 薪资待遇 -->
                                                <td>
                                                    <div class="salary-desc">{{ job.salaryDesc }}</div>
                                                    <div class="job-requirements">
                                                        <div><i class="bi bi-clock me-1"></i>{{ job.jobExperience }}</div>
                                                        <div><i class="bi bi-mortarboard me-1"></i>{{ job.jobDegree }}</div>
                                                    </div>
                                                    <div class="job-type" v-if="job.jobType !== undefined">
                                                        <span class="badge bg-secondary">{{ getJobTypeText(job.jobType) }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 职位要求 -->
                                                <td>
                                                    <div class="job-description" v-if="job.jobDescription">
                                                        {{ truncateText(job.jobDescription, 80) }}
                                                    </div>
                                                </td>
                                                
                                                <!-- 技能标签 -->
                                                <td>
                                                    <div class="skills-container">
                                                        <span v-for="skill in parseArray(job.skills).slice(0, 4)" :key="skill" 
                                                              class="badge bg-secondary">{{ skill }}</span>
                                                        <span v-if="parseArray(job.skills).length > 4" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.skills).length - 4 }}
                                                        </span>
                                                    </div>
                                                    <div class="skill-count" v-if="parseArray(job.skills).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.skills).length }}项技能</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- HR信息 -->
                                                <td>
                                                    <div class="hr-info">
                                                        <img v-if="job.hrAvatar" :src="job.hrAvatar" 
                                                             class="hr-avatar" :alt="job.hrName">
                                                        <div class="hr-name">{{ job.hrName }}</div>
                                                    </div>
                                                    <div class="hr-details">
                                                        <div><i class="bi bi-person-badge me-1"></i>{{ job.hrTitle }}</div>
                                                        <div class="hr-status">
                                                            <span :class="job.hrOnline ? 'text-success' : 'text-muted'">
                                                                <i class="bi bi-circle-fill"></i>
                                                                {{ job.hrOnline ? '在线' : '离线' }}
                                                            </span>
                                                        </div>
                                                        <div v-if="job.hrCertLevel" class="hr-cert">
                                                            <span class="badge bg-warning">认证{{ job.hrCertLevel }}级</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司福利 -->
                                                <td>
                                                    <div class="welfare-container" v-if="parseArray(job.welfareList).length > 0">
                                                        <span v-for="welfare in parseArray(job.welfareList).slice(0, 3)" :key="welfare" 
                                                              class="badge bg-success">{{ welfare }}</span>
                                                        <span v-if="parseArray(job.welfareList).length > 3" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.welfareList).length - 3 }}
                                                        </span>
                                                    </div>
                                                    <div class="welfare-count" v-if="parseArray(job.welfareList).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.welfareList).length }}项福利</small>
                                                    </div>
                                                    <div class="no-welfare" v-else>
                                                        <small class="text-muted">暂无福利信息</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- 投递状态 -->
                                                <td>
                                                    <div :class="getStatusInfo(job.status).class">
                                                        {{ getStatusInfo(job.status).text }}
                                                    </div>
                                                    <div class="status-time">
                                                        <div><i class="bi bi-calendar me-1"></i>{{ formatDateTime(job.createdAt) }}</div>
                                                        <div v-if="job.updatedAt"><i class="bi bi-clock me-1"></i>{{ formatDateTime(job.updatedAt) }}</div>
                                                    </div>
                                                    <div class="job-flags" v-if="job.isFavorite || job.isOptimal">
                                                        <span v-if="job.isFavorite" class="badge bg-danger me-1">收藏</span>
                                                        <span v-if="job.isOptimal" class="badge bg-warning">优选</span>
                                                    </div>
                                                </td>

                                                <!-- 过滤原因 -->
                                                <td>
                                                    <div v-if="job.filterReason" :title="job.filterReason">
                                                        {{ truncateText(job.filterReason, 60) }}
                                                    </div>
                                                    <div v-else class="text-muted">
                                                        -
                                                    </div>
                                                </td>
                                                
                                                <!-- 操作 -->
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-outline-primary btn-sm" 
                                                                @click="viewJobDetail(job)" title="查看详情">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-outline-info btn-sm" 
                                                                @click="copyJobUrl(job)" title="复制链接">
                                                            <i class="bi bi-link-45deg"></i>
                                                        </button>
                                                        <button class="btn btn-outline-success btn-sm" 
                                                                @click="toggleFavorite(job)" 
                                                                :class="job.isFavorite ? 'active' : ''" title="收藏">
                                                            <i class="bi bi-heart"></i>
                                                        </button>
                                                        <button class="btn btn-outline-warning btn-sm" 
                                                                @click="viewCompanyInfo(job)" title="公司信息">
                                                            <i class="bi bi-building"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                </table>
                            </div>
                                    
                                    <!-- 分页 -->
                                    <nav v-if="totalPages > 1">
                                        <ul class="pagination justify-content-center">
                                            <li class="page-item" :class="{ disabled: currentPage === 0 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage - 1)">上一页</a>
                                            </li>
                                            <li v-for="page in visiblePages" :key="page" 
                                                class="page-item" :class="{ active: page === currentPage }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(page)">{{ page + 1 }}</a>
                                            </li>
                                            <li class="page-item" :class="{ disabled: currentPage === totalPages - 1 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage + 1)">下一页</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 51job -->
        <div class="tab-pane fade" id="job51-pane" role="tabpanel" aria-labelledby="job51-tab">
            <ul class="nav nav-pills mb-3" id="job51-subtabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="job51-config-tab" data-bs-toggle="tab"
                            data-bs-target="#job51-config-pane" type="button" role="tab"
                            aria-controls="job51-config-pane" aria-selected="true">配置
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="job51-records-tab" data-bs-toggle="tab"
                            data-bs-target="#job51-records-pane" type="button" role="tab"
                            aria-controls="job51-records-pane" aria-selected="false">岗位明细
                    </button>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="job51-config-pane" role="tabpanel"
                     aria-labelledby="job51-config-tab">
                    <div class="row g-2" style="height: calc(100vh - 200px);">
                        <!-- Left Panel: Basic Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-gear-fill me-2 text-primary"></i>基本配置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">

                                        <!-- Search Configuration Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-search me-2"></i>搜索条件
                                            </h6>

                                            <!-- Keywords -->
                                            <div class="mb-2">
                                                <label for="job51KeywordsField" class="form-label fw-semibold small">
                                                    搜索关键词
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="输入职位搜索关键词，多个关键词请用英文逗号分隔，例如：Java,Spring,后端"></i>
                                                </label>
                                                <input type="text" class="form-control form-control-sm" id="job51KeywordsField"
                                                       placeholder="Java, Spring Boot, 微服务">
                                            </div>

                                            <!-- Industry -->
                                            <div class="mb-2">
                                                <label for="job51IndustryField" class="form-label fw-semibold small">
                                                    目标行业
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="先选择一级行业分类，再从右侧选择具体行业；最多选5个"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="job51IndustryDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择行业
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="job51IndustryDropdownBtn" style="min-width: 100%; width: 500px;" onclick="event.stopPropagation();">
                                                        <!-- 搜索框 -->
                                                        <input type="text" class="form-control form-control-sm mb-2" id="job51IndustrySearchField"
                                                               placeholder="输入行业名称进行筛选...">
                                                        <!-- 两栏布局 -->
                                                        <div class="row g-2" style="min-height: 240px;">
                                                            <!-- 左侧：一级行业列表 -->
                                                            <div class="col-5">
                                                                <div class="small text-muted mb-1 fw-semibold">一级分类</div>
                                                                <div id="job51IndustryParentList" style="max-height: 220px; overflow-y: auto; border-right: 1px solid #dee2e6;">
                                                                    <!-- 动态生成 -->
                                                                </div>
                                                            </div>
                                                            <!-- 右侧：二级行业列表 -->
                                                            <div class="col-7">
                                                                <div class="small text-muted mb-1 fw-semibold">具体行业</div>
                                                                <div id="job51IndustryChildList" style="max-height: 220px; overflow-y: auto;">
                                                                    <div class="text-center text-muted small py-4">
                                                                        <i class="bi bi-arrow-left me-1"></i>请先选择左侧分类
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="job51IndustrySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="job51IndustryField" multiple></select>
                                            </div>

                                            <!-- City -->
                                            <div class="mb-2">
                                                <label for="job51CityCodeField" class="form-label fw-semibold small">
                                                    工作城市
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="从字典中选择工作城市，支持模糊检索；可多选"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="job51CityDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择城市
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="job51CityDropdownBtn" style="min-width: 100%;">
                                                        <input type="text" class="form-control form-control-sm mb-2" id="job51CitySearchField"
                                                               placeholder="输入城市名或编码进行筛选...">
                                                        <div id="job51CityDropdownList" style="max-height: 240px; overflow: auto;"></div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="job51CitySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="job51CityCodeField" multiple></select>
                                            </div>
                                        </div>

                                        <!-- Job Requirements Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-clipboard-check me-2"></i>职位要求
                                            </h6>

                                            <div class="row g-2">
                                                <!-- Experience -->
                                                <div class="col-md-6">
                                                    <label for="job51ExperienceComboBox" class="form-label fw-semibold small">
                                                        工作经验
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的工作年限区间"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="job51ExperienceComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Job Type -->
                                                <div class="col-md-6">
                                                    <label for="job51JobTypeComboBox" class="form-label fw-semibold small">
                                                        求职类型
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的工作性质，如全职、兼职等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="job51JobTypeComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Salary Range -->
                                                <div class="col-md-6">
                                                    <label for="job51SalaryComboBox" class="form-label fw-semibold small">
                                                        薪资范围
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的月薪范围"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="job51SalaryComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Education -->
                                                <div class="col-md-6">
                                                    <label for="job51DegreeComboBox" class="form-label fw-semibold small">
                                                        学历要求
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的最高学历"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="job51DegreeComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Company Scale -->
                                                <div class="col-md-6">
                                                    <label for="job51ScaleComboBox" class="form-label fw-semibold small">
                                                        公司规模
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的公司人员规模"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="job51ScaleComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Company Nature -->
                                                <div class="col-md-6">
                                                    <label for="job51CompanyNatureComboBox" class="form-label fw-semibold small">
                                                        公司性质
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望公司的性质，如国企、外企、民企等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="job51CompanyNatureComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Panel: Settings & AI Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-cpu me-2 text-success"></i>智能设置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">


                                        <!-- Action Buttons -->
                                        <div class="d-grid gap-2 mt-auto">
                                            <div class="row g-2">
                                                <div class="col-12">
                                                    <button type="button" class="btn btn-outline-primary btn-sm w-100 py-2"
                                                            id="job51SaveConfigBtn">
                                                        <i class="bi bi-save me-2"></i>保存配置
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <!-- 任务执行按钮组 -->
                                            <div class="border-top pt-2">
                                                <h6 class="text-muted mb-2 small">
                                                    <i class="bi bi-list-ol me-2"></i>任务执行步骤
                                                </h6>
                                                
                                                <!-- 步骤1: 登录 -->
                                                <button type="button" class="btn btn-primary btn-sm w-100 py-2 mb-1"
                                                        id="job51LoginBtn" disabled>
                                                    <i class="bi bi-box-arrow-in-right me-2"></i>1. 51job登录
                                                    <span class="badge bg-light text-dark ms-2" id="job51LoginStatus">待执行</span>
                                                </button>
                                                
                                                <!-- 步骤2: 采集职位 -->
                                                <button type="button" class="btn btn-info btn-sm w-100 py-2 mb-1"
                                                        id="job51CollectBtn" disabled>
                                                    <i class="bi bi-collection me-2"></i>2. 采集职位
                                                    <span class="badge bg-light text-dark ms-2" id="job51CollectStatus">等待登录</span>
                                                </button>
                                                
                                                <!-- 步骤3: 过滤职位 -->
                                                <button type="button" class="btn btn-warning btn-sm w-100 py-2 mb-1"
                                                        id="job51FilterBtn" disabled>
                                                    <i class="bi bi-funnel me-2"></i>3. 过滤职位
                                                    <span class="badge bg-light text-dark ms-2" id="job51FilterStatus">等待登录</span>
                                                </button>
                                                
                                                <!-- 步骤4: 投递职位 -->
                                                <button type="button" class="btn btn-success btn-sm w-100 py-2 mb-1"
                                                        id="job51ApplyBtn" disabled>
                                                    <i class="bi bi-rocket-takeoff me-2"></i>4. 投递职位
                                                    <span class="badge bg-light text-dark ms-2" id="job51ApplyStatus">等待登录</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="job51-records-pane" role="tabpanel" aria-labelledby="job51-records-tab">
                    <div class="card shadow-lg">
                        <div class="card-header bg-white border-0 d-flex align-items-center justify-content-between">
                            <h5 class="mb-0 text-dark"><i class="bi bi-journal-text me-2 text-primary"></i>岗位明细</h5>
                            <div class="d-flex gap-2">
                                <input type="text" class="form-control form-control-sm" id="job51RecordKeyword"
                                       placeholder="岗位/公司/HR关键词">
                                <button class="btn btn-sm btn-outline-primary" id="job51RecordSearchBtn"><i
                                        class="bi bi-search"></i></button>
                                <button class="btn btn-sm btn-outline-secondary" id="job51RecordRefreshBtn"><i
                                        class="bi bi-arrow-clockwise"></i></button>
                                <button class="btn btn-sm btn-outline-warning" id="job51RecordResetBtn" title="重置岗位状态"><i
                                        class="bi bi-arrow-counterclockwise"></i></button>
                                <button class="btn btn-sm btn-outline-danger" id="job51RecordDeleteBtn" title="删除所有岗位"><i
                                        class="bi bi-trash"></i></button>
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Vue应用挂载点 -->
                            <div id="job51RecordsVueApp">
                                <div v-if="loading" class="text-center text-muted py-4">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">加载中...</span>
                                    </div>
                                    <p class="mt-2">加载中...</p>
                                </div>
                                <div v-else-if="error" class="alert alert-danger" role="alert">
                                    <i class="bi bi-exclamation-triangle me-2"></i>{{ error }}
                                </div>
                                <div v-else>
                                    <!-- 统计信息 -->
                                    <div class="row mb-3">
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalElements }}</h6>
                                                <small>总岗位数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ records.length }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalPages }}</h6>
                                                <small>总页数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ currentPage + 1 }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 表格 -->
                                    <div class="table-responsive job-records-table" style="max-height: 600px; overflow-y: auto;">
                                        <table class="table table-hover align-middle table-striped">
                                            <thead class="table-dark sticky-top">
                                            <tr>
                                                <th style="min-width: 140px;">岗位信息</th>
                                                <th style="min-width: 120px;">公司信息</th>
                                                <th style="min-width: 100px;">工作地点</th>
                                                <th style="min-width: 100px;">薪资待遇</th>
                                                <th style="min-width: 120px;">职位要求</th>
                                                <th style="min-width: 100px;">技能标签</th>
                                                <th style="min-width: 120px;">HR信息</th>
                                                <th style="min-width: 100px;">公司福利</th>
                                                <th style="min-width: 100px;">投递状态</th>
                                                <th style="min-width: 140px;">过滤原因</th>
                                                <th style="min-width: 120px;">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-if="records.length === 0">
                                                <td colspan="11" class="empty-state">
                                                    <i class="bi bi-inbox"></i>
                                                    <h5>暂无数据</h5>
                                                    <p>请先执行岗位采集任务</p>
                                                </td>
                                            </tr>
                                            <tr v-for="job in records" :key="job.id" class="job-row">
                                                <!-- 岗位信息 -->
                                                <td>
                                                    <div class="job-title">{{ job.jobTitle }}</div>
                                                    <div class="job-labels">
                                                        <span v-for="label in parseArray(job.jobLabels)" :key="label" 
                                                              class="badge bg-light text-dark">{{ label }}</span>
                                                    </div>
                                                    <div class="job-platform">
                                                        <span class="badge bg-info">{{ job.platform }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司信息 -->
                                                <td>
                                                    <div class="company-name">{{ job.companyName }}</div>
                                                    <div class="company-info">
                                                        <div><i class="bi bi-building me-1"></i>{{ job.companyIndustry }}</div>
                                                        <div><i class="bi bi-people me-1"></i>{{ job.companyScale }}</div>
                                                        <div><i class="bi bi-graph-up me-1"></i>{{ job.companyStage }}</div>
                                                    </div>
                                                    <div class="company-logo" v-if="job.companyLogo">
                                                        <img :src="job.companyLogo" class="company-logo-img" :alt="job.companyName">
                                                    </div>
                                                </td>
                                                
                                                <!-- 工作地点 -->
                                                <td>
                                                    <div class="location-city">{{ job.workCity }}</div>
                                                    <div class="location-details">
                                                        <div><i class="bi bi-geo-alt me-1"></i>{{ job.workArea }}</div>
                                                        <div v-if="job.businessDistrict"><i class="bi bi-building me-1"></i>{{ job.businessDistrict }}</div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 薪资待遇 -->
                                                <td>
                                                    <div class="salary-desc">{{ job.salaryDesc }}</div>
                                                    <div class="job-requirements">
                                                        <div><i class="bi bi-clock me-1"></i>{{ job.jobExperience }}</div>
                                                        <div><i class="bi bi-mortarboard me-1"></i>{{ job.jobDegree }}</div>
                                                    </div>
                                                    <div class="job-type" v-if="job.jobType !== undefined">
                                                        <span class="badge bg-secondary">{{ getJobTypeText(job.jobType) }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 职位要求 -->
                                                <td>
                                                    <div class="job-description" v-if="job.jobDescription">
                                                        {{ truncateText(job.jobDescription, 80) }}
                                                    </div>
                                                </td>
                                                
                                                <!-- 技能标签 -->
                                                <td>
                                                    <div class="skills-container">
                                                        <span v-for="skill in parseArray(job.skills).slice(0, 4)" :key="skill" 
                                                              class="badge bg-secondary">{{ skill }}</span>
                                                        <span v-if="parseArray(job.skills).length > 4" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.skills).length - 4 }}
                                                        </span>
                                                    </div>
                                                    <div class="skill-count" v-if="parseArray(job.skills).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.skills).length }}项技能</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- HR信息 -->
                                                <td>
                                                    <div class="hr-info">
                                                        <img v-if="job.hrAvatar" :src="job.hrAvatar" 
                                                             class="hr-avatar" :alt="job.hrName">
                                                        <div class="hr-name">{{ job.hrName }}</div>
                                                    </div>
                                                    <div class="hr-details">
                                                        <div><i class="bi bi-person-badge me-1"></i>{{ job.hrTitle }}</div>
                                                        <div class="hr-status">
                                                            <span :class="job.hrOnline ? 'text-success' : 'text-muted'">
                                                                <i class="bi bi-circle-fill"></i>
                                                                {{ job.hrOnline ? '在线' : '离线' }}
                                                            </span>
                                                        </div>
                                                        <div v-if="job.hrCertLevel" class="hr-cert">
                                                            <span class="badge bg-warning">认证{{ job.hrCertLevel }}级</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司福利 -->
                                                <td>
                                                    <div class="welfare-container" v-if="parseArray(job.welfareList).length > 0">
                                                        <span v-for="welfare in parseArray(job.welfareList).slice(0, 3)" :key="welfare" 
                                                              class="badge bg-success">{{ welfare }}</span>
                                                        <span v-if="parseArray(job.welfareList).length > 3" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.welfareList).length - 3 }}
                                                        </span>
                                                    </div>
                                                    <div class="welfare-count" v-if="parseArray(job.welfareList).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.welfareList).length }}项福利</small>
                                                    </div>
                                                    <div class="no-welfare" v-else>
                                                        <small class="text-muted">暂无福利信息</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- 投递状态 -->
                                                <td>
                                                    <div :class="getStatusInfo(job.status).class">
                                                        {{ getStatusInfo(job.status).text }}
                                                    </div>
                                                    <div class="status-time">
                                                        <div><i class="bi bi-calendar me-1"></i>{{ formatDateTime(job.createdAt) }}</div>
                                                        <div v-if="job.updatedAt"><i class="bi bi-clock me-1"></i>{{ formatDateTime(job.updatedAt) }}</div>
                                                    </div>
                                                    <div class="job-flags" v-if="job.isFavorite || job.isOptimal">
                                                        <span v-if="job.isFavorite" class="badge bg-danger me-1">收藏</span>
                                                        <span v-if="job.isOptimal" class="badge bg-warning">优选</span>
                                                    </div>
                                                </td>

                                                <!-- 过滤原因 -->
                                                <td>
                                                    <div v-if="job.filterReason" :title="job.filterReason">
                                                        {{ truncateText(job.filterReason, 60) }}
                                                    </div>
                                                    <div v-else class="text-muted">
                                                        -
                                                    </div>
                                                </td>
                                                
                                                <!-- 操作 -->
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-outline-primary btn-sm" 
                                                                @click="viewJobDetail(job)" title="查看详情">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-outline-info btn-sm" 
                                                                @click="copyJobUrl(job)" title="复制链接">
                                                            <i class="bi bi-link-45deg"></i>
                                                        </button>
                                                        <button class="btn btn-outline-success btn-sm" 
                                                                @click="toggleFavorite(job)" 
                                                                :class="job.isFavorite ? 'active' : ''" title="收藏">
                                                            <i class="bi bi-heart"></i>
                                                        </button>
                                                        <button class="btn btn-outline-warning btn-sm" 
                                                                @click="viewCompanyInfo(job)" title="公司信息">
                                                            <i class="bi bi-building"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <!-- 分页 -->
                                    <nav v-if="totalPages > 1">
                                        <ul class="pagination justify-content-center">
                                            <li class="page-item" :class="{ disabled: currentPage === 0 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage - 1)">上一页</a>
                                            </li>
                                            <li v-for="page in visiblePages" :key="page" 
                                                class="page-item" :class="{ active: page === currentPage }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(page)">{{ page + 1 }}</a>
                                            </li>
                                            <li class="page-item" :class="{ disabled: currentPage === totalPages - 1 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage + 1)">下一页</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 猎聘 -->
        <div class="tab-pane fade" id="liepin-pane" role="tabpanel" aria-labelledby="liepin-tab">
            <ul class="nav nav-pills mb-3" id="liepin-subtabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="liepin-config-tab" data-bs-toggle="tab"
                            data-bs-target="#liepin-config-pane" type="button" role="tab"
                            aria-controls="liepin-config-pane" aria-selected="true">配置
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="liepin-records-tab" data-bs-toggle="tab"
                            data-bs-target="#liepin-records-pane" type="button" role="tab"
                            aria-controls="liepin-records-pane" aria-selected="false">岗位明细
                    </button>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="liepin-config-pane" role="tabpanel"
                     aria-labelledby="liepin-config-tab">
                    <div class="row g-2" style="height: calc(100vh - 200px);">
                        <!-- Left Panel: Basic Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-gear-fill me-2 text-primary"></i>基本配置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">

                                        <!-- Search Configuration Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-search me-2"></i>搜索条件
                                            </h6>

                                            <!-- Keywords -->
                                            <div class="mb-2">
                                                <label for="liepinKeywordsField" class="form-label fw-semibold small">
                                                    搜索关键词
                                                </label>
                                                <input type="text" class="form-control form-control-sm" id="liepinKeywordsField"
                                                       placeholder="Java, Spring Boot, 微服务">
                                            </div>

                                            <!-- City -->
                                            <div class="mb-2">
                                                <label for="liepinCityCodeField" class="form-label fw-semibold small">
                                                    工作城市
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="liepinCityDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择城市
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="liepinCityDropdownBtn" style="min-width: 100%;">
                                                        <input type="text" class="form-control form-control-sm mb-2" id="liepinCitySearchField"
                                                               placeholder="输入城市名或编码进行筛选...">
                                                        <div id="liepinCityDropdownList" style="max-height: 240px; overflow: auto;"></div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="liepinCitySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="liepinCityCodeField" multiple></select>
                                            </div>

                                            <!-- Industry -->
                                            <div class="mb-2">
                                                <label for="liepinIndustryField" class="form-label fw-semibold small">
                                                    目标行业
                                                    <i class="bi bi-question-circle text-muted ms-1"
                                                       data-bs-toggle="tooltip"
                                                       title="先选择一级行业分类，再从右侧选择具体行业；可多选"></i>
                                                </label>
                                                <div class="dropdown w-100">
                                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle w-100 text-start" type="button"
                                                            id="liepinIndustryDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false">
                                                        选择行业
                                                    </button>
                                                    <div class="dropdown-menu p-2 w-100" aria-labelledby="liepinIndustryDropdownBtn" style="min-width: 100%; width: 500px;" onclick="event.stopPropagation();">
                                                        <!-- 搜索框 -->
                                                        <input type="text" class="form-control form-control-sm mb-2" id="liepinIndustrySearchField"
                                                               placeholder="输入行业名称进行筛选...">
                                                        <!-- 两栏布局 -->
                                                        <div class="row g-2" style="min-height: 240px;">
                                                            <!-- 左侧：一级行业列表 -->
                                                            <div class="col-5">
                                                                <div class="small text-muted mb-1 fw-semibold">一级分类</div>
                                                                <div id="liepinIndustryParentList" style="max-height: 220px; overflow-y: auto; border-right: 1px solid #dee2e6;">
                                                                    <!-- 动态生成 -->
                                                                </div>
                                                            </div>
                                                            <!-- 右侧：二级行业列表 -->
                                                            <div class="col-7">
                                                                <div class="small text-muted mb-1 fw-semibold">具体行业</div>
                                                                <div id="liepinIndustryChildList" style="max-height: 220px; overflow-y: auto;">
                                                                    <div class="text-center text-muted small py-4">
                                                                        <i class="bi bi-arrow-left me-1"></i>请先选择左侧分类
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <small class="text-muted d-block mt-1" id="liepinIndustrySelectionSummary">未选择</small>
                                                <select class="form-select form-select-sm d-none" id="liepinIndustryField" multiple></select>
                                            </div>
                                        </div>

                                        <!-- Job Requirements Card -->
                                        <div class="config-card mb-2">
                                            <h6 class="card-title text-primary mb-2">
                                                <i class="bi bi-clipboard-check me-2"></i>职位要求
                                            </h6>

                                            <div class="row g-2">
                                                <!-- Experience -->
                                                <div class="col-md-6">
                                                    <label for="liepinExperienceComboBox" class="form-label fw-semibold small">
                                                        工作经验
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的工作年限区间"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinExperienceComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Job Type -->
                                                <div class="col-md-6">
                                                    <label for="liepinJobTypeComboBox" class="form-label fw-semibold small">
                                                        求职类型
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的工作性质，如全职、兼职等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinJobTypeComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Salary Range -->
                                                <div class="col-md-6">
                                                    <label for="liepinSalaryComboBox" class="form-label fw-semibold small">
                                                        薪资范围
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的月薪范围"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinSalaryComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Education -->
                                                <div class="col-md-6">
                                                    <label for="liepinDegreeComboBox" class="form-label fw-semibold small">
                                                        学历要求
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择您的最高学历"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinDegreeComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Company Scale -->
                                                <div class="col-md-6">
                                                    <label for="liepinScaleComboBox" class="form-label fw-semibold small">
                                                        公司规模
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望的公司人员规模"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinScaleComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Company Nature -->
                                                <div class="col-md-6">
                                                    <label for="liepinCompanyNatureComboBox" class="form-label fw-semibold small">
                                                        公司性质
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择期望公司的性质，如国企、外企、民企等"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinCompanyNatureComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>

                                                <!-- Recruiter Activity -->
                                                <div class="col-md-6">
                                                    <label for="liepinRecruiterActivityComboBox" class="form-label fw-semibold small">
                                                        招聘者活跃
                                                        <i class="bi bi-question-circle text-muted ms-1"
                                                           data-bs-toggle="tooltip"
                                                           title="选择招聘者活跃度"></i>
                                                    </label>
                                                    <select class="form-select form-select-sm" id="liepinRecruiterActivityComboBox">
                                                        <option value="">请选择</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Panel: Settings & AI Configuration -->
                        <div class="col-lg-6">
                            <div class="card shadow-lg h-100">
                                <div class="card-header bg-white border-0 py-2">
                                    <h6 class="mb-0 text-dark">
                                        <i class="bi bi-cpu me-2 text-success"></i>智能设置
                                    </h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="d-flex flex-column h-100">

                                        <!-- Action Buttons -->
                                        <div class="d-grid gap-2 mt-auto">
                                            <div class="row g-2">
                                                <div class="col-12">
                                                    <button type="button" class="btn btn-outline-primary btn-sm w-100 py-2"
                                                            id="liepinSaveConfigBtn">
                                                        <i class="bi bi-save me-2"></i>保存配置
                                                    </button>
                                                </div>
                                            </div>
                                            
                                            <!-- 任务执行按钮组 -->
                                            <div class="border-top pt-2">
                                                <h6 class="text-muted mb-2 small">
                                                    <i class="bi bi-list-ol me-2"></i>任务执行步骤
                                                </h6>
                                                
                                                <button type="button" class="btn btn-primary btn-sm w-100 py-2 mb-1"
                                                        id="liepinLoginBtn" disabled>
                                                    <i class="bi bi-box-arrow-in-right me-2"></i>1. 猎聘登录
                                                    <span class="badge bg-light text-dark ms-2" id="liepinLoginStatus">待执行</span>
                                                </button>
                                                
                                                <button type="button" class="btn btn-info btn-sm w-100 py-2 mb-1"
                                                        id="liepinCollectBtn" disabled>
                                                    <i class="bi bi-collection me-2"></i>2. 采集职位
                                                    <span class="badge bg-light text-dark ms-2" id="liepinCollectStatus">等待登录</span>
                                                </button>
                                                
                                                <button type="button" class="btn btn-warning btn-sm w-100 py-2 mb-1"
                                                        id="liepinFilterBtn" disabled>
                                                    <i class="bi bi-funnel me-2"></i>3. 过滤职位
                                                    <span class="badge bg-light text-dark ms-2" id="liepinFilterStatus">等待登录</span>
                                                </button>
                                                
                                                <button type="button" class="btn btn-success btn-sm w-100 py-2 mb-1"
                                                        id="liepinApplyBtn" disabled>
                                                    <i class="bi bi-rocket-takeoff me-2"></i>4. 投递职位
                                                    <span class="badge bg-light text-dark ms-2" id="liepinApplyStatus">等待登录</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="liepin-records-pane" role="tabpanel"
                     aria-labelledby="liepin-records-tab">
                    <div class="card shadow-lg">
                        <div class="card-header bg-white border-0 d-flex align-items-center justify-content-between">
                            <h5 class="mb-0 text-dark"><i class="bi bi-journal-text me-2 text-primary"></i>岗位明细</h5>
                            <div class="d-flex gap-2">
                                <input type="text" class="form-control form-control-sm" id="liepinRecordKeyword"
                                       placeholder="岗位/公司/HR关键词">
                                <button class="btn btn-sm btn-outline-primary" id="liepinRecordSearchBtn"><i
                                        class="bi bi-search"></i></button>
                                <button class="btn btn-sm btn-outline-secondary" id="liepinRecordRefreshBtn"><i
                                        class="bi bi-arrow-clockwise"></i></button>
                                <button class="btn btn-sm btn-outline-warning" id="liepinRecordResetBtn" title="重置岗位状态"><i
                                        class="bi bi-arrow-counterclockwise"></i></button>
                                <button class="btn btn-sm btn-outline-danger" id="liepinRecordDeleteBtn" title="删除所有岗位"><i
                                        class="bi bi-trash"></i></button>
                            </div>
                        </div>
                        <div class="card-body">
                            <!-- Vue应用挂载点 -->
                            <div id="liepinRecordsVueApp">
                                <!-- 加载提示 -->
                                <div v-if="loading" class="text-center py-5">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">加载中...</span>
                                    </div>
                                    <p class="mt-2 text-muted">加载岗位数据中...</p>
                                </div>

                                <!-- 错误提示 -->
                                <div v-if="error && !loading" class="alert alert-danger" role="alert">
                                    <i class="bi bi-exclamation-triangle me-2"></i>{{ error }}
                                </div>

                                <!-- 数据内容 -->
                                <div v-if="!loading && !error">
                                    <!-- 统计信息 -->
                                    <div class="row mb-3">
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalElements }}</h6>
                                                <small>总岗位数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ records.length }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ totalPages }}</h6>
                                                <small>总页数</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="stats-card">
                                                <h6>{{ currentPage + 1 }}</h6>
                                                <small>当前页</small>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 表格 -->
                                    <div class="table-responsive job-records-table" style="max-height: 600px; overflow-y: auto;">
                                        <table class="table table-hover align-middle table-striped">
                                            <thead class="table-dark sticky-top">
                                            <tr>
                                                <th style="min-width: 140px;">岗位信息</th>
                                                <th style="min-width: 120px;">公司信息</th>
                                                <th style="min-width: 100px;">工作地点</th>
                                                <th style="min-width: 100px;">薪资待遇</th>
                                                <th style="min-width: 120px;">职位要求</th>
                                                <th style="min-width: 100px;">技能标签</th>
                                                <th style="min-width: 120px;">HR信息</th>
                                                <th style="min-width: 100px;">公司福利</th>
                                                <th style="min-width: 100px;">投递状态</th>
                                                <th style="min-width: 140px;">过滤原因</th>
                                                <th style="min-width: 120px;">操作</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr v-if="records.length === 0">
                                                <td colspan="11" class="empty-state">
                                                    <i class="bi bi-inbox"></i>
                                                    <h5>暂无数据</h5>
                                                    <p>请先执行岗位采集任务</p>
                                                </td>
                                            </tr>
                                            <tr v-for="job in records" :key="job.id" class="job-row">
                                                <!-- 岗位信息 -->
                                                <td>
                                                    <div class="job-title">{{ job.jobTitle }}</div>
                                                    <div class="job-labels">
                                                        <span v-for="label in parseArray(job.jobLabels)" :key="label" 
                                                              class="badge bg-light text-dark">{{ label }}</span>
                                                    </div>
                                                    <div class="job-platform">
                                                        <span class="badge bg-info">{{ job.platform }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司信息 -->
                                                <td>
                                                    <div class="company-name">{{ job.companyName }}</div>
                                                    <div class="company-info">
                                                        <div><i class="bi bi-building me-1"></i>{{ job.companyIndustry }}</div>
                                                        <div><i class="bi bi-people me-1"></i>{{ job.companyScale }}</div>
                                                        <div><i class="bi bi-graph-up me-1"></i>{{ job.companyStage }}</div>
                                                    </div>
                                                    <div class="company-logo" v-if="job.companyLogo">
                                                        <img :src="job.companyLogo" class="company-logo-img" :alt="job.companyName">
                                                    </div>
                                                </td>
                                                
                                                <!-- 工作地点 -->
                                                <td>
                                                    <div class="location-city">{{ job.workCity }}</div>
                                                    <div class="location-details">
                                                        <div><i class="bi bi-geo-alt me-1"></i>{{ job.workArea }}</div>
                                                        <div v-if="job.businessDistrict"><i class="bi bi-building me-1"></i>{{ job.businessDistrict }}</div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 薪资待遇 -->
                                                <td>
                                                    <div class="salary-desc">{{ job.salaryDesc }}</div>
                                                    <div class="job-requirements">
                                                        <div><i class="bi bi-clock me-1"></i>{{ job.jobExperience }}</div>
                                                        <div><i class="bi bi-mortarboard me-1"></i>{{ job.jobDegree }}</div>
                                                    </div>
                                                    <div class="job-type" v-if="job.jobType !== undefined">
                                                        <span class="badge bg-secondary">{{ getJobTypeText(job.jobType) }}</span>
                                                    </div>
                                                </td>
                                                
                                                <!-- 职位要求 -->
                                                <td>
                                                    <div class="job-description" v-if="job.jobDescription">
                                                        {{ truncateText(job.jobDescription, 80) }}
                                                    </div>
                                                </td>
                                                
                                                <!-- 技能标签 -->
                                                <td>
                                                    <div class="skills-container">
                                                        <span v-for="skill in parseArray(job.skills).slice(0, 4)" :key="skill" 
                                                              class="badge bg-secondary">{{ skill }}</span>
                                                        <span v-if="parseArray(job.skills).length > 4" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.skills).length - 4 }}
                                                        </span>
                                                    </div>
                                                    <div class="skill-count" v-if="parseArray(job.skills).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.skills).length }}项技能</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- HR信息 -->
                                                <td>
                                                    <div class="hr-info">
                                                        <img v-if="job.hrAvatar" :src="job.hrAvatar" 
                                                             class="hr-avatar" :alt="job.hrName">
                                                        <div class="hr-name">{{ job.hrName }}</div>
                                                    </div>
                                                    <div class="hr-details">
                                                        <div><i class="bi bi-person-badge me-1"></i>{{ job.hrTitle }}</div>
                                                        <div class="hr-status">
                                                            <span :class="job.hrOnline ? 'text-success' : 'text-muted'">
                                                                <i class="bi bi-circle-fill"></i>
                                                                {{ job.hrOnline ? '在线' : '离线' }}
                                                            </span>
                                                        </div>
                                                        <div v-if="job.hrCertLevel" class="hr-cert">
                                                            <span class="badge bg-warning">认证{{ job.hrCertLevel }}级</span>
                                                        </div>
                                                    </div>
                                                </td>
                                                
                                                <!-- 公司福利 -->
                                                <td>
                                                    <div class="welfare-container" v-if="parseArray(job.welfareList).length > 0">
                                                        <span v-for="welfare in parseArray(job.welfareList).slice(0, 3)" :key="welfare" 
                                                              class="badge bg-success">{{ welfare }}</span>
                                                        <span v-if="parseArray(job.welfareList).length > 3" class="badge bg-light text-dark">
                                                            +{{ parseArray(job.welfareList).length - 3 }}
                                                        </span>
                                                    </div>
                                                    <div class="welfare-count" v-if="parseArray(job.welfareList).length > 0">
                                                        <small class="text-muted">共{{ parseArray(job.welfareList).length }}项福利</small>
                                                    </div>
                                                    <div class="no-welfare" v-else>
                                                        <small class="text-muted">暂无福利信息</small>
                                                    </div>
                                                </td>
                                                
                                                <!-- 投递状态 -->
                                                <td>
                                                    <div :class="getStatusInfo(job.status).class">
                                                        {{ getStatusInfo(job.status).text }}
                                                    </div>
                                                    <div class="status-time">
                                                        <div><i class="bi bi-calendar me-1"></i>{{ formatDateTime(job.createdAt) }}</div>
                                                        <div v-if="job.updatedAt"><i class="bi bi-clock me-1"></i>{{ formatDateTime(job.updatedAt) }}</div>
                                                    </div>
                                                    <div class="job-flags" v-if="job.isFavorite || job.isOptimal">
                                                        <span v-if="job.isFavorite" class="badge bg-danger me-1">收藏</span>
                                                        <span v-if="job.isOptimal" class="badge bg-warning">优选</span>
                                                    </div>
                                                </td>

                                                <!-- 过滤原因 -->
                                                <td>
                                                    <div v-if="job.filterReason" :title="job.filterReason">
                                                        {{ truncateText(job.filterReason, 60) }}
                                                    </div>
                                                    <div v-else class="text-muted">
                                                        -
                                                    </div>
                                                </td>
                                                
                                                <!-- 操作 -->
                                                <td>
                                                    <div class="action-buttons">
                                                        <button class="btn btn-outline-primary btn-sm" 
                                                                @click="viewJobDetail(job)" title="查看详情">
                                                            <i class="bi bi-eye"></i>
                                                        </button>
                                                        <button class="btn btn-outline-info btn-sm" 
                                                                @click="copyJobUrl(job)" title="复制链接">
                                                            <i class="bi bi-link-45deg"></i>
                                                        </button>
                                                        <button class="btn btn-outline-success btn-sm" 
                                                                @click="toggleFavorite(job)" 
                                                                :class="job.isFavorite ? 'active' : ''" title="收藏">
                                                            <i class="bi bi-heart"></i>
                                                        </button>
                                                        <button class="btn btn-outline-warning btn-sm" 
                                                                @click="viewCompanyInfo(job)" title="公司信息">
                                                            <i class="bi bi-building"></i>
                                                        </button>
                                                    </div>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <!-- 分页 -->
                                    <nav v-if="totalPages > 1">
                                        <ul class="pagination justify-content-center">
                                            <li class="page-item" :class="{ disabled: currentPage === 0 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage - 1)">上一页</a>
                                            </li>
                                            <li v-for="page in visiblePages" :key="page" 
                                                class="page-item" :class="{ active: page === currentPage }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(page)">{{ page + 1 }}</a>
                                            </li>
                                            <li class="page-item" :class="{ disabled: currentPage === totalPages - 1 }">
                                                <a class="page-link" href="#" @click.prevent="goToPage(currentPage + 1)">下一页</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Bootstrap JS -->
<script src="lib/bootstrap/bootstrap.bundle.min.js"></script>

<!-- 公共工具类 -->
<script src="js/common.js"></script>

<!-- 任务执行控制器 -->
<script src="js/task-executor.js"></script>

<!-- 视图模块 -->
<script src="js/views/common-config.js"></script>
<script src="js/views/boss-config-form.js"></script>
<script src="js/views/boss-records-vue.js"></script>
<script src="js/views/job-records.js"></script>
<script src="js/views/zhilian-config-form.js"></script>
<script src="js/views/zhilian-records-vue.js"></script>
<script src="js/views/job51-config-form.js"></script>
<script src="js/views/job51-records-vue.js"></script>
<script src="js/views/liepin-config-form.js"></script>
<script src="js/views/liepin-records-vue.js"></script>
<!-- App Entrypoint -->
<script src="js/app.js"></script>

<!-- Toast Container -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1080">
    <div id="globalToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive"
         aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body" id="globalToastBody">操作成功</div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
        </div>
    </div>
</div>

<!-- Bootstrap 模态框 -->
<!-- 确认对话框 -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmModalLabel">确认操作</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="confirmModalBody">
                确定要执行此操作吗？
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="confirmModalOk">确定</button>
            </div>
        </div>
    </div>
</div>

<!-- 提示对话框 -->
<div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="alertModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="alertModalLabel">提示</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="alertModalBody">
                操作完成
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">确定</button>
            </div>
        </div>
    </div>
</div>

<!-- 输入对话框 -->
<div class="modal fade" id="inputModal" tabindex="-1" aria-labelledby="inputModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="inputModalLabel">输入信息</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="inputModalField1" class="form-label" id="inputModalLabel1">输入内容1</label>
                    <input type="text" class="form-control" id="inputModalField1" placeholder="请输入内容">
                </div>
                <div class="mb-3" id="inputModalField2Container" style="display: none;">
                    <label for="inputModalField2" class="form-label" id="inputModalLabel2">输入内容2</label>
                    <input type="text" class="form-control" id="inputModalField2" placeholder="请输入内容">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="inputModalOk">确定</button>
            </div>
        </div>
    </div>
</div>

<!-- 必填项提示功能 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // 检查必填项是否已填写
        function checkRequiredFields() {
            const profileJobTitle = document.getElementById('profileJobTitle');
            const profileSkills = document.getElementById('profileSkillsTags');
            const profileYearsOfExperience = document.getElementById('profileYearsOfExperience');
            const profileCareerIntent = document.getElementById('profileCareerIntent');
            
            // 检查是否所有必填项都为空
            const isJobTitleEmpty = !profileJobTitle || !profileJobTitle.value.trim();
            const isSkillsEmpty = !profileSkills || profileSkills.children.length === 0;
            const isYearsEmpty = !profileYearsOfExperience || !profileYearsOfExperience.value;
            const isCareerEmpty = !profileCareerIntent || !profileCareerIntent.value.trim();
            
            // 如果任何一个必填项为空，显示提示
            if (isJobTitleEmpty || isSkillsEmpty || isYearsEmpty || isCareerEmpty) {
                showRequiredFieldsAlert();
            }
        }
        
        // 显示必填项提示弹框
        function showRequiredFieldsAlert() {
            const alertModalEl = document.getElementById('alertModal');
            const alertModalBody = document.getElementById('alertModalBody');
            const alertModalLabel = document.getElementById('alertModalLabel');
            
            if (alertModalEl && alertModalBody && alertModalLabel) {
                alertModalLabel.textContent = '⚠️ 完善个人信息';
                alertModalBody.innerHTML = `
                    <div class="alert alert-warning mb-3" role="alert">
                        <h5 class="alert-heading"><i class="bi bi-exclamation-triangle-fill me-2"></i>请先完善以下必填信息</h5>
                        <hr>
                        <p class="mb-2">为了更好地为您推荐职位，请填写以下信息：</p>
                        <ul class="mb-0">
                            <li><strong>职位名称</strong> - 您期望的职位</li>
                            <li><strong>核心技能</strong> - 至少添加1项技能</li>
                            <li><strong>工作年限</strong> - 您的工作经验</li>
                            <li><strong>职业意向</strong> - 您的职业规划和求职目标</li>
                        </ul>
                    </div>
                    <p class="text-muted mb-0">
                        <i class="bi bi-info-circle me-1"></i>
                        填写完成后，请点击页面底部的 <strong>"保存所有配置"</strong> 按钮保存信息。
                    </p>
                `;
                
                const alertModal = new bootstrap.Modal(alertModalEl);
                alertModal.show();
                
                // 自动滚动到候选人信息配置区域
                alertModalEl.addEventListener('hidden.bs.modal', function () {
                    const profileSection = document.querySelector('#common-config-pane .col-lg-6:nth-child(2)');
                    if (profileSection) {
                        profileSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }, { once: true });
            }
        }
        
        // 页面加载后延迟2秒检查必填项
        setTimeout(checkRequiredFields, 2000);
    });
</script>

<!-- 密码显示切换功能 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // AI平台KEY密码显示切换
        const toggleBtn = document.getElementById('toggleAiPlatformKey');
        const passwordInput = document.getElementById('aiPlatformKey');
        const icon = document.getElementById('aiPlatformKeyIcon');
        
        if (toggleBtn && passwordInput && icon) {
            toggleBtn.addEventListener('click', function() {
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    icon.classList.remove('bi-eye');
                    icon.classList.add('bi-eye-slash');
                } else {
                    passwordInput.type = 'password';
                    icon.classList.remove('bi-eye-slash');
                    icon.classList.add('bi-eye');
                }
            });
        }
    });
</script>
</body>
</html>
